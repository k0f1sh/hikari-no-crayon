<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon-precomposed" href="data:image/png;base64,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" />
    <title>ひかりのくれよん</title>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:min(760px,calc(100vw - 24px));border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr auto auto;justify-items:center;align-items:center;gap:4px;padding:10px 8px;text-align:center}.simple_preset_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:44px;height:auto;aspect-ratio:1 / 1;border-radius:0;border:1px solid rgba(210,227,255,.75);background:#0b1220;box-shadow:inset 0 0 0 1px #fff3,0 0 0 2px #080c18eb}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_name{font-size:13px;line-height:1.1}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <script type="module">
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();const Mt={normal_pen:[],blood_pen:[],fur_pen:[],snow_pen:[],collatz_pen:[],hoshi_pen:[{key:"reverse_rotation",label:"ぎゃくかいてん",type:"boolean",defaultValue:!1},{key:"rotation_speed",label:"かいてんそくど",type:"number",defaultValue:1,min:.2,max:4,step:.1},{key:"line_width",label:"せんのふとさ",type:"number",defaultValue:1,min:.2,max:6,step:.1}],life_pen:[{key:"snap_to_grid",label:"ますめをそろえる",type:"boolean",defaultValue:!1},{key:"circle_cells",label:"まるでかく",type:"boolean",defaultValue:!1},{key:"max_generations",label:"せだいすう",type:"number",defaultValue:80,min:8,max:500,step:1}],hane_pen:[{key:"reverse_rotation",label:"ぎゃくかいてん",type:"boolean",defaultValue:!1},{key:"rotation_speed",label:"かいてんそくど",type:"number",defaultValue:1,min:.2,max:4,step:.1}],nami_pen:[],spray_pen:[],bubble_pen:[],orbit_pen:[],fractal_bloom_pen:[],degi_pen:[],shinmyaku_pen:[]};function Xs(n,t,o){return Math.max(t,Math.min(o,n))}function bt(){const n={};return Object.entries(Mt).forEach(([t,o])=>{n[t]={},o.forEach(a=>{n[t][a.key]=a.defaultValue})}),n}function Jt(n){const t=bt();if(!n||typeof n!="object")return t;const o=n;return Object.entries(Mt).forEach(([a,i])=>{const r=o[a];if(!r||typeof r!="object")return;const c=r;i.forEach(h=>{const u=c[h.key];if(h.type==="boolean"){t[a][h.key]=u===!0;return}const y=Number(u);t[a][h.key]=Number.isFinite(y)?Xs(y,h.min,h.max):h.defaultValue})}),t}const e={canvas:null,c:null,hudCanvas:null,hudC:null,width:0,height:0,count:0,mouse:{x:null,y:null},effects:[],isDown:!1,isRainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,isFadeMode:!1,isAutoMode:!1,isYamiMode:!1,yamiStrength:100,isSymmetryMode:!1,isSymmetryHudVisible:!0,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:.5,symmetryOriginY:.5,margin:40,toolboxWidth:200,penTools:{},penTool:null,selectedPenName:"normal_pen",penCustomParams:bt(),penSize:30,penColor:{r:200,g:200,b:200},historyStack:[],historyIndex:-1,didDrawInStroke:!1};function A(){if(!e.c)throw new Error("Main canvas context is not initialized");return e.c}function Ae(){if(!e.canvas)throw new Error("Canvas is not initialized");return e.canvas}function Zt(){if(!e.hudC)throw new Error("HUD canvas context is not initialized");return e.hudC}function N(n,t){const o=qs(n);return`rgba(${Math.floor(o.r)},${Math.floor(o.g)},${Math.floor(o.b)},${t})`}function qs(n){if(!e.isYamiMode)return n;const o=1-Math.max(0,Math.min(100,e.yamiStrength))/100;return{r:n.r*o,g:n.g*o,b:n.b*o}}function wt(n,t,o){let a,i,r;for(;n<0;)n+=360;if(n%=360,t===0){const k=Math.round(o);return{r:k,g:k,b:k}}const c=t/255,h=Math.floor(n/60)%6,u=n/60-h,y=o*(1-c),w=o*(1-u*c),x=o*(1-(1-u)*c);switch(h){case 0:a=o,i=x,r=y;break;case 1:a=w,i=o,r=y;break;case 2:a=y,i=o,r=x;break;case 3:a=y,i=w,r=o;break;case 4:a=x,i=y,r=o;break;default:a=o,i=y,r=w;break}return{r:Math.round(a),g:Math.round(i),b:Math.round(r)}}function Ie(n){const t=o=>Math.max(0,Math.min(255,Math.round(o))).toString(16).padStart(2,"0");return`#${t(n.r)}${t(n.g)}${t(n.b)}`}function es(n){const t=n.replace("#",""),o=t.length===3?t.split("").map(a=>`${a}${a}`).join(""):t;return/^[0-9a-fA-F]{6}$/.test(o)?{r:Number.parseInt(o.slice(0,2),16),g:Number.parseInt(o.slice(2,4),16),b:Number.parseInt(o.slice(4,6),16)}:{r:200,g:200,b:200}}function St(n){n.globalCompositeOperation="source-over",n.fillStyle="#000000",n.fillRect(0,0,e.width,e.height),n===e.c?n.globalCompositeOperation=Ye():n.globalCompositeOperation="lighter"}function Ye(){return e.isYamiMode?"source-over":"lighter"}function ee(){const n=A();n.globalCompositeOperation=Ye()}function De(n,t,o,a,i,r){const c=A(),h=c.createRadialGradient(n,t,1,n,t,o);h.addColorStop(i,N(a,.7)),h.addColorStop(r,"rgba(0, 0, 0, 0)"),c.fillStyle=h,c.beginPath(),c.arc(n,t,o,0,Math.PI*2,!1),c.fill(),c.closePath()}function Gs(n,t,o,a,i){const r=A();r.fillStyle=N(a,i),r.beginPath(),r.moveTo(n.x,n.y),r.lineTo(t.x,t.y),r.lineTo(o.x,o.y),r.closePath(),r.fill()}function ts(n,t,o,a){const i=A();i.fillStyle=N(o,a),i.fillRect(n,t,1,1),i.closePath()}function W(n,t,o,a,i){const r=A();r.strokeStyle=N(o,a),r.lineWidth=i,r.beginPath(),r.moveTo(n.x,n.y),r.lineTo(t.x,t.y),r.stroke()}function Be(n,t,o,a){if(!(n.length<2))for(let i=1;i<n.length;i+=1)W(n[i-1],n[i],t,o,a)}function $s(){const n=A(),t=n.getImageData(0,0,e.width,e.height),o=t.data,a=e.width*e.height;for(let i=0;i<a;i+=1)o[i*4]=255-o[i*4],o[i*4+1]=255-o[i*4+1],o[i*4+2]=255-o[i*4+2];n.putImageData(t,0,0)}function I(n){return n*Math.PI/180}function V(n,t,o){return{x:n.x+Math.cos(I(o))*t,y:n.y+Math.sin(I(o))*t}}function Us(n,t){return{x:n*Math.cos(t),y:n*Math.sin(t)}}function Ws(n){const t=[];for(;;){if(n===0||n===1){t.push(n);break}t.push(n),n=n%2===0?n/2:n*3+1}return t}function js(n,t){const o=[];let a=e.count%60*6;const i=n/40;for(let r=1;r<n;r+=i)a+=1,o.push(Us(r,a*t));return o}function He(n,t){const o=1-Math.random(),a=1-Math.random(),i=Math.sqrt(-2*Math.log(o));return .5-Math.random()>0?i*Math.sin(Math.PI*2*a)*t+n:i*Math.cos(Math.PI*2*a)*t+n}function $t(n){return n[Math.floor(Math.random()*n.length)]}function j(n,t){return n.x<0-e.margin||n.y<0-e.margin||n.x>e.width+e.margin||n.y>e.height+e.margin||t<=0}function Ve(n,t){return n.length<=t?n:n.slice(n.length-t)}class xt{constructor(t,o,a){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=1+Math.floor(Math.random()*360),this.rotateCount=2+Math.floor(Math.random()*5),this.alpha=.3,this.delFlg=!1,this.color=a,this.posHistory=[],this.decAlphaP=.001,this.historyNum=3}move(){if(this.decAlphaP+=4e-4,this.alpha=Math.max(0,this.alpha-this.decAlphaP),this.posHistory.push(this.pos),this.posHistory=Ve(this.posHistory,this.historyNum),Math.floor(Math.random()*20)===0){const t=new xt(this.pos.x,this.pos.y,e.penColor);t.alpha=this.alpha,t.d=this.d+(Math.floor(Math.random()*120)-60),e.effects.push(t)}this.pos=V(this.pos,this.spd,this.d),this.rotateCount-=1,this.rotateCount<=0&&(this.rotateCount=2+Math.floor(Math.random()*2),this.d+=Math.floor(Math.random()*80)-40),j(this.pos,this.alpha)&&this.delete()}render(){Be(this.posHistory,this.color,this.alpha,this.alpha*8)}delete(){this.delFlg=!0}}class Ks{constructor(t,o,a,i){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=i,this.alpha=.2,this.delFlg=!1,this.color=a}move(){this.pos=V(this.pos,this.spd,this.d),this.spd+=.2,this.alpha=Math.max(0,this.alpha-.01),j(this.pos,this.alpha)&&this.delete()}render(){const t=this.pos.x,o=this.pos.y,a=e.penSize/2,i={x:Math.floor(Math.random()*e.penSize)-a+t,y:Math.floor(Math.random()*e.penSize)-a+o},r={x:Math.floor(Math.random()*e.penSize)-a+t,y:Math.floor(Math.random()*e.penSize)-a+o},c={x:Math.floor(Math.random()*e.penSize)-a+t,y:Math.floor(Math.random()*e.penSize)-a+o};Gs(i,r,c,this.color,this.alpha)}delete(){this.delFlg=!0}}class ss{constructor(t,o,a,i,r){this.pos={x:t,y:o},this.color=a,this.alpha=.4;const c=Number.isFinite(r==null?void 0:r.lineWidth)?Number(r==null?void 0:r.lineWidth):1;this.size=Math.max(.1,Math.min(10,c));const h=(r==null?void 0:r.direction)===-1?-1:1,u=Number.isFinite(r==null?void 0:r.speed)?Number(r==null?void 0:r.speed):1;this.stepSize=Math.max(.2,Math.min(4,u)),this.narutoList=js(e.penSize,i*h),this.delFlg=!1,this.cursor=0}move(){this.cursor+=this.stepSize,Math.floor(this.cursor)+1>=this.narutoList.length&&this.delete()}render(){const t=Math.floor(this.cursor);if(t+1>=this.narutoList.length){this.delete();return}const o={x:this.pos.x+this.narutoList[t].x,y:this.pos.y+this.narutoList[t].y},a={x:this.pos.x+this.narutoList[t+1].x,y:this.pos.y+this.narutoList[t+1].y};W(o,a,this.color,this.alpha,this.size)}delete(){this.delFlg=!0}}class Qs extends ss{constructor(t,o,a){var h,u,y;const i=((h=e.penCustomParams.hoshi_pen)==null?void 0:h.reverse_rotation)===!0,r=Number((u=e.penCustomParams.hoshi_pen)==null?void 0:u.rotation_speed),c=Number((y=e.penCustomParams.hoshi_pen)==null?void 0:y.line_width);super(t,o,a,10,{direction:i?-1:1,speed:Number.isFinite(r)?r:1,lineWidth:Number.isFinite(c)?c:1})}}class Js extends ss{constructor(t,o,a){var c,h;const i=((c=e.penCustomParams.hane_pen)==null?void 0:c.reverse_rotation)===!0,r=Number((h=e.penCustomParams.hane_pen)==null?void 0:h.rotation_speed);super(t,o,a,1e5,{direction:i?-1:1,speed:Number.isFinite(r)?r:1})}}class Zs{constructor(t,o){this.pos={x:t,y:o},this.size=e.penSize,this.alpha=.6,this.delFlg=!1,this.c=0,this.od=e.count%360}move(){this.c+=1,this.alpha-=.01;const t=Math.sin(I(e.count%60*6))*93+this.od;this.pos=V(this.pos,e.penSize/10,t),(j(this.pos,this.alpha)||this.c>3600)&&this.delete()}render(){const t=Math.sin(I(e.count%60*6))*93+this.od,o=this.pos,a=V(this.pos,this.size/2,(t+180)%360),i=V(this.pos,this.size,(t+180)%360-Math.floor(Math.random()*20)),r=V(this.pos,this.size,(t+180)%360+Math.floor(Math.random()*20));W(o,a,e.penColor,this.alpha,.2),W(o,i,e.penColor,this.alpha,.2),W(o,r,e.penColor,this.alpha,.2)}delete(){this.delFlg=!0}}class en{constructor(t,o,a){this.pos={x:t,y:o},this.color=a,this.alpha=.5,this.collatzList=Ws(e.penSize),this.delFlg=!1,this.n=0}move(){if(this.n=this.collatzList[0],this.collatzList=this.collatzList.slice(1),this.collatzList.length===1){this.delete();return}const t=this.n/2,o=Math.floor(Math.random()*360);this.pos={x:this.pos.x+Math.cos(I(o))*t,y:this.pos.y+Math.sin(I(o))*t}}render(){De(this.pos.x,this.pos.y,this.n,this.color,this.alpha,.8)}delete(){this.delFlg=!0}}const de=class de{constructor(t,o,a){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=$t([0,90,180,270]),this.alpha=.3,this.delFlg=!1,this.color=a,this.posHistory=[],this.decAlphaP=.001,this.historyNum=3,this.lastTurnNodeKey=null}wrappedModDistance(t,o){const a=(t%o+o)%o;return Math.min(a,o-a)}getTurnNodeKey(){const t=Math.max(.8,this.spd*.52),o=de.TURN_GRID,a=this.wrappedModDistance(this.pos.x,o)<=t,i=this.wrappedModDistance(this.pos.y,o)<=t;if(!a||!i)return null;const r=Math.round(this.pos.x/o),c=Math.round(this.pos.y/o);return`${r},${c}`}move(){if(this.decAlphaP+=4e-4,this.alpha=Math.max(0,this.alpha-this.decAlphaP),this.posHistory.push(this.pos),this.posHistory=Ve(this.posHistory,this.historyNum),Math.floor(Math.random()*20)===0){const o=new de(this.pos.x,this.pos.y,e.penColor);o.alpha=this.alpha,o.d=$t([0,90,180,270]),e.effects.push(o)}this.pos=V(this.pos,this.spd,this.d);const t=this.getTurnNodeKey();if(!t)this.lastTurnNodeKey=null;else if(t!==this.lastTurnNodeKey){const[o,a]=t.split(","),i=Number(o),r=Number(a),c=(i+r)%2===0?90:-90;this.d+=c,this.lastTurnNodeKey=t}j(this.pos,this.alpha)&&this.delete()}render(){Be(this.posHistory,this.color,this.alpha,1)}delete(){this.delFlg=!0}};de.TURN_GRID=28;let gt=de;class vt{constructor(t,o,a){this.center={x:t,y:o},this.pos={x:t,y:o},this.posHistory=[],this.alpha=.32,this.delFlg=!1,this.color=a,this.baseRadius=Math.max(8,e.penSize*(.45+Math.random()*.85)),this.radius=this.baseRadius,this.radiusWave=.12+Math.random()*.24,this.angle=Math.random()*Math.PI*2,this.angleVelocity=.07+Math.random()*.22,this.centerDriftX=(Math.random()-.5)*.34,this.centerDriftY=(Math.random()-.5)*.34,this.age=0,this.maxAge=Math.max(42,Math.min(150,Math.floor(e.penSize*(1.1+Math.random()*.7))))}move(){if(this.age+=1,this.alpha=Math.max(0,this.alpha-.0046),this.angle+=this.angleVelocity,this.radius=this.baseRadius*(.9+.16*Math.sin(this.age*this.radiusWave)),this.center.x+=this.centerDriftX+(Math.random()-.5)*.12,this.center.y+=this.centerDriftY+(Math.random()-.5)*.12,this.pos.x=this.center.x+Math.cos(this.angle)*this.radius,this.pos.y=this.center.y+Math.sin(this.angle)*this.radius,this.posHistory.push({x:this.pos.x,y:this.pos.y}),this.posHistory=Ve(this.posHistory,18),Math.floor(Math.random()*40)===0&&this.alpha>.12){const t=new vt(this.pos.x,this.pos.y,this.color);t.alpha=this.alpha*.52,t.baseRadius=this.baseRadius*(.3+Math.random()*.28),t.radius=t.baseRadius,t.centerDriftX*=.45,t.centerDriftY*=.45,t.maxAge=Math.max(18,Math.floor(this.maxAge*.38)),e.effects.push(t)}(this.age>this.maxAge||j(this.pos,this.alpha))&&this.delete()}render(){this.posHistory.length>=2&&Be(this.posHistory,this.color,this.alpha*.64,Math.max(.35,e.penSize/56)),ts(this.pos.x,this.pos.y,this.color,Math.min(.72,this.alpha)),De(this.pos.x,this.pos.y,Math.max(1.2,e.penSize/24),this.color,.2,1)}delete(){this.delFlg=!0}}class tn{constructor(t,o,a){this.pos={x:t,y:o},this.d=Math.floor(Math.random()*360),this.spd=Math.max(1.2,e.penSize/8),this.alpha=.26,this.delFlg=!1,this.color=a,this.life=90+Math.floor(Math.random()*70),this.pulsePhase=Math.random()*Math.PI*2,this.posHistory=[]}move(){this.life-=1,this.alpha*=.989,this.pulsePhase+=.35,this.posHistory.push({x:this.pos.x,y:this.pos.y}),this.posHistory=Ve(this.posHistory,10);const t=Math.sin(this.pulsePhase)*28;this.pos=V(this.pos,this.spd,this.d+t),(this.life<=0||j(this.pos,this.alpha))&&this.delete()}render(){const t=(Math.sin(this.pulsePhase)+1)/2,o=Math.max(1.2,e.penSize/7*(.45+t*.4)),a=Math.max(7,e.penSize*(.55+t*.8)),i=this.alpha*(.24+t*.36),r=Math.min(.24,this.alpha*(.5+t*.5));if(Be(this.posHistory,this.color,i,.9+t*1.4),this.drawGlow(this.pos.x,this.pos.y,o,r*.9),this.drawGlow(this.pos.x,this.pos.y,a*.45,r*.46),this.drawGlow(this.pos.x,this.pos.y,a,r*.2),t>.86){const c=Math.cos(I(this.d+90))*o,h=Math.sin(I(this.d+90))*o;this.drawGlow(this.pos.x+c,this.pos.y+h,o*.85,r*.34),this.drawGlow(this.pos.x-c,this.pos.y-h,o*.85,r*.34)}r<.01&&this.delete()}drawGlow(t,o,a,i){const r=A(),c=r.createRadialGradient(t,o,0,t,o,a);c.addColorStop(0,N(this.color,i)),c.addColorStop(.55,N(this.color,i*.35)),c.addColorStop(1,"rgba(0, 0, 0, 0)"),r.fillStyle=c,r.beginPath(),r.arc(t,o,a,0,Math.PI*2,!1),r.fill()}delete(){this.delFlg=!0}}class Ct{constructor(t,o,a,i=0){this.center={x:t,y:o},this.pos={x:t,y:o},this.prevPos={x:t,y:o},this.alpha=.3-i*.08,this.delFlg=!1,this.color=a,this.age=0,this.maxAge=Math.max(28,Math.floor(e.penSize*(.85+Math.random()*1.15))),this.phase=Math.random()*Math.PI*2,this.phaseSpeed=.05+Math.random()*.07,this.orbitScale=Math.max(6,e.penSize*(.3+Math.random()*1.2)),this.driftX=(Math.random()-.5)*.75,this.driftY=(Math.random()-.5)*.75,this.branchChance=.007-i*.003,this.branchDepth=i,this.hasBranched=!1}move(){this.age+=1,this.phase+=this.phaseSpeed,this.alpha*=.988,this.center.x+=this.driftX*.22+(Math.random()-.5)*.12,this.center.y+=this.driftY*.22+(Math.random()-.5)*.12;const t=Math.sin(this.phase*2)+Math.sin(this.phase*3.2)*.55,o=Math.cos(this.phase*2.8)+Math.cos(this.phase*4.4)*.45;if(this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y,this.pos.x=this.center.x+t*this.orbitScale,this.pos.y=this.center.y+o*this.orbitScale,!this.hasBranched&&this.branchDepth<1&&this.alpha>.12&&this.age>10&&Math.random()<Math.max(0,this.branchChance)){const a=new Ct(this.pos.x,this.pos.y,this.color,this.branchDepth+1);a.orbitScale=this.orbitScale*(.58+Math.random()*.2),a.phase=this.phase+Math.random()*Math.PI,a.maxAge=Math.max(16,Math.floor(this.maxAge*(.52+Math.random()*.12))),a.alpha=this.alpha*.66,e.effects.push(a),this.hasBranched=!0}(this.age>this.maxAge||j(this.pos,this.alpha))&&this.delete()}render(){const t=1-this.age/this.maxAge,o=this.alpha*(.3+t*.5),a=Math.min(.28,this.alpha*.9),i=Math.max(.36,e.penSize/66)*(1+t*.7),r=Math.max(1.1,e.penSize/20),c=Math.max(8,e.penSize*.95)*(.55+t*.6);W(this.prevPos,this.pos,this.color,o,i),this.drawGlow(this.pos.x,this.pos.y,r,a*.7),this.drawGlow(this.pos.x,this.pos.y,c*.45,a*.42),this.drawGlow(this.pos.x,this.pos.y,c,a*.18),a<.01&&this.delete()}drawGlow(t,o,a,i){const r=A(),c=r.createRadialGradient(t,o,0,t,o,a);c.addColorStop(0,N(this.color,i)),c.addColorStop(.5,N(this.color,i*.34)),c.addColorStop(1,"rgba(0, 0, 0, 0)"),r.fillStyle=c,r.beginPath(),r.arc(t,o,a,0,Math.PI*2,!1),r.fill()}delete(){this.delFlg=!0}}class sn{constructor(t,o,a){var u,y;this.color=a,this.cellSize=Math.max(2,Math.floor(e.penSize/24)+1),this.gridSize=Math.max(16,Math.min(128,Math.floor(e.penSize*2))),this.alpha=.75,this.delFlg=!1,this.age=0,this.generation=0;const i=Number((u=e.penCustomParams.life_pen)==null?void 0:u.max_generations);this.maxGenerations=Number.isFinite(i)?Math.max(8,Math.min(500,Math.round(i))):Math.max(36,Math.min(140,this.gridSize*2.5));const r=this.gridSize*this.gridSize;this.liveCells=new Uint8Array(r),this.nextCells=new Uint8Array(r),this.cellAges=new Uint16Array(r);const c=this.gridSize*this.cellSize/2,h=((y=e.penCustomParams.life_pen)==null?void 0:y.snap_to_grid)===!0;this.originX=h?Math.floor((t-c)/this.cellSize)*this.cellSize:t-c,this.originY=h?Math.floor((o-c)/this.cellSize)*this.cellSize:o-c,this.seedCells()}seedCells(){const t=(this.gridSize-1)/2,a=Math.min(20,this.gridSize)/2,i=t-a,r=t+a,c=Math.max(1,a);for(let h=0;h<this.gridSize;h+=1)for(let u=0;u<this.gridSize;u+=1){if(u<i||u>r||h<i||h>r)continue;const y=u-t,w=h-t,x=Math.sqrt(y*y+w*w)/c,L=.18+Math.max(0,1-x)*.3,T=h*this.gridSize+u;this.liveCells[T]=Math.random()<L?1:0}}countNeighbors(t,o){let a=0;for(let i=-1;i<=1;i+=1)for(let r=-1;r<=1;r+=1){if(r===0&&i===0)continue;const c=t+r,h=o+i;c<0||h<0||c>=this.gridSize||h>=this.gridSize||(a+=this.liveCells[h*this.gridSize+c])}return a}step(){let t=0;for(let a=0;a<this.gridSize;a+=1)for(let i=0;i<this.gridSize;i+=1){const r=a*this.gridSize+i,c=this.liveCells[r]===1,h=this.countNeighbors(i,a),u=c&&h===2||h===3;this.nextCells[r]=u?1:0,u?(this.cellAges[r]=c?this.cellAges[r]+1:1,t+=1):this.cellAges[r]=0}const o=this.liveCells;return this.liveCells=this.nextCells,this.nextCells=o,this.generation+=1,t}move(){this.age+=1;const t=this.step();this.alpha*=.994,(t===0||this.generation>=this.maxGenerations||this.alpha<.05)&&this.delete()}render(){var a;const t=A(),o=((a=e.penCustomParams.life_pen)==null?void 0:a.circle_cells)===!0;for(let i=0;i<this.gridSize;i+=1)for(let r=0;r<this.gridSize;r+=1){const c=i*this.gridSize+r;if(this.liveCells[c]!==1)continue;const h=Math.min(1,.45+this.cellAges[c]*.08),u=this.alpha*h,y=this.originX+r*this.cellSize,w=this.originY+i*this.cellSize;if(o){const x=y+this.cellSize/2,k=w+this.cellSize/2,L=Math.max(1,this.cellSize*.75),T=t.createRadialGradient(x,k,.5,x,k,L);T.addColorStop(.2,N(this.color,u)),T.addColorStop(1,"rgba(0, 0, 0, 0)"),t.fillStyle=T,t.beginPath(),t.arc(x,k,L,0,Math.PI*2,!1),t.fill();continue}t.fillStyle=N(this.color,u),t.fillRect(y,w,Math.max(1,this.cellSize-1),Math.max(1,this.cellSize-1))}}delete(){this.delFlg=!0}}class nn{draw(t,o){e.effects.push(new xt(t,o,e.penColor))}}class on{draw(t,o){for(let a=0;a<e.penSize;a+=1){const i=He(t,e.penSize/2),r=He(o,e.penSize/2);De(i,r,Math.random()*(e.penSize/10),e.penColor,1,.1)}}}class rn{draw(t,o){e.effects.push(new en(t,o,e.penColor))}}class an{draw(t,o){e.effects.push(new gt(t,o,e.penColor))}}class ln{draw(t,o){for(let a=0;a<120;a+=1){const i=t+Math.floor(Math.random()*20)-10,r=o+Math.floor(Math.random()*20)-10,c=t+Math.cos(I(a*3))*e.penSize*Math.random(),h=o+Math.sin(I(a*3))*e.penSize*Math.random();W({x:i,y:r},{x:c,y:h},e.penColor,80,.1)}}}class cn{draw(t,o){e.effects.push(new Js(t,o,e.penColor))}}class dn{draw(t,o){e.effects.push(new Qs(t,o,e.penColor))}}class hn{draw(t,o){e.effects.push(new sn(t,o,e.penColor))}}class mn{draw(t,o){e.effects.push(new Zs(t,o))}}class un{draw(t,o){De(t,o,e.penSize,e.penColor,.1,1)}}class pn{draw(t,o){if(!Number.isFinite(t)||!Number.isFinite(o))return;const a=1;for(let i=0;i<a;i+=1)e.effects.push(new vt(t,o,e.penColor))}}class yn{draw(t,o){if(!Number.isFinite(t)||!Number.isFinite(o))return;const a=e.penSize*.04,i=t+(Math.random()-.5)*a,r=o+(Math.random()-.5)*a;e.effects.push(new Ct(i,r,e.penColor))}}class fn{draw(t,o){for(let a=0;a<10;a+=1){const i=(e.count+a*36)%360;e.effects.push(new Ks(t,o,e.penColor,i))}}}class gn{draw(t,o){for(let a=0;a<e.penSize*20;a+=1){const i=He(t,e.penSize/2),r=He(o,e.penSize/2);ts(i,r,e.penColor,.6)}}}class Mn{draw(t,o){e.effects.push(new tn(t,o,e.penColor))}}function bn(){return{normal_pen:new un,blood_pen:new nn,fur_pen:new ln,snow_pen:new fn,collatz_pen:new rn,hoshi_pen:new dn,life_pen:new hn,hane_pen:new cn,nami_pen:new mn,spray_pen:new gn,bubble_pen:new on,orbit_pen:new pn,fractal_bloom_pen:new yn,degi_pen:new an,shinmyaku_pen:new Mn}}const Ut="normal_pen",wn=wt(200,200,200),ns="http://www.w3.org/2000/svg";function Sn(n){const t=document.createElementNS(ns,"path");return t.setAttribute("d",n),t}function xn(n,t){const o=document.createElementNS(ns,"svg"),a=Sn(n);o.setAttribute("width","1"),o.setAttribute("height","1"),o.style.position="fixed",o.style.left="-9999px",o.style.top="-9999px",o.style.width="1px",o.style.height="1px",o.style.opacity="0",o.style.pointerEvents="none",o.appendChild(a),document.body.appendChild(o);try{return t(a)}finally{o.remove()}}function os(n){const t=document.createElement("textarea");return t.innerHTML=n,t.value}function vn(n){var t;try{const i=new DOMParser().parseFromString(n,"image/svg+xml").querySelector("path"),r=(t=i==null?void 0:i.getAttribute("d"))==null?void 0:t.trim();if(r)return r}catch{return null}return null}function Cn(n){const t=n.trim();if(!t)return"";if(!/[<>]/.test(t)&&!/\bd\s*=/.test(t))return t;const o=vn(t);if(o)return o;const a=t.match(/\bd\s*=\s*(['"])([\s\S]*?)\1/i);return a!=null&&a[2]?os(a[2].trim()):t}function _n(n){const t=n.trim();if(!t)return[];if(!/[<>]/.test(t)&&!/\bd\s*=/.test(t))return[t];try{const c=new DOMParser().parseFromString(t,"image/svg+xml"),h=Array.from(c.querySelectorAll("path[d]")).map(u=>{var y;return((y=u.getAttribute("d"))==null?void 0:y.trim())??""}).filter(u=>u.length>0);if(h.length>0)return h}catch{}const a=Array.from(t.matchAll(/\bd\s*=\s*(['"])([\s\S]*?)\1/gi)).map(r=>os((r[2]??"").trim())).filter(r=>r.length>0);if(a.length>0)return a;const i=Cn(t);return i?[i]:[]}function is(n,t){const o=n.trim();if(!o)throw new Error("SVG path が空です。");return xn(o,a=>{const i=a.getTotalLength();if(!Number.isFinite(i)||i<=0)throw new Error("SVG path の長さを取得できませんでした。");const r=Math.max(.5,t),c=[];for(let u=0;u<i;u+=r){const y=a.getPointAtLength(u);c.push({x:y.x,y:y.y})}const h=a.getPointAtLength(i);return c.push({x:h.x,y:h.y}),c})}function rs(n,t,o,a){if(n.length===0)return n;const i=Math.min(...n.map(O=>O.x)),r=Math.max(...n.map(O=>O.x)),c=Math.min(...n.map(O=>O.y)),h=Math.max(...n.map(O=>O.y)),u=Math.max(1,r-i),y=Math.max(1,h-c),w=Math.max(1,t-a*2),x=Math.max(1,o-a*2),k=Math.max(.01,Math.min(w/u,x/y)),L=(i+r)/2,T=(c+h)/2,he=t/2,me=o/2;return n.map(O=>({x:(O.x-L)*k+he,y:(O.y-T)*k+me}))}const Wt=50;function Pn(){return A().getImageData(0,0,e.width,e.height)}function as(n){A().putImageData(n,0,0)}function ls(){e.historyStack=[],e.historyIndex=-1,e.didDrawInStroke=!1}function _t(){const n=Pn();if(e.historyIndex<e.historyStack.length-1&&(e.historyStack=e.historyStack.slice(0,e.historyIndex+1)),e.historyStack.push(n),e.historyStack.length>Wt){const t=e.historyStack.length-Wt;e.historyStack=e.historyStack.slice(t)}e.historyIndex=e.historyStack.length-1}function cs(){return e.historyIndex>0}function ds(){return e.historyIndex>=0&&e.historyIndex<e.historyStack.length-1}function kn(){return cs()?(e.historyIndex-=1,as(e.historyStack[e.historyIndex]),!0):!1}function En(){return ds()?(e.historyIndex+=1,as(e.historyStack[e.historyIndex]),!0):!1}const hs="hikari-no-crayon:settings:v1",M={pen:"normal_pen",size:64,colorHex:Ie({r:86,g:177,b:255}),rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!0,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50,recordPreset:"standard",recordSeconds:10,recordFps:60,recordResolution:"source",recordQuality:"auto",penCustomParams:bt()};function Tn(){try{const n=localStorage.getItem(hs);if(!n)return{...M};const t=JSON.parse(n);return{...M,...t,size:Number(t.size??M.size),rainbowSaturation:Number(t.rainbowSaturation??M.rainbowSaturation),rainbowBrightness:Number(t.rainbowBrightness??M.rainbowBrightness),yamiStrength:Number(t.yamiStrength??M.yamiStrength),symmetryCount:Number(t.symmetryCount??M.symmetryCount),symmetryOriginX:Number(t.symmetryOriginX??M.symmetryOriginX),symmetryOriginY:Number(t.symmetryOriginY??M.symmetryOriginY),colorHex:typeof t.colorHex=="string"?t.colorHex:M.colorHex,recordPreset:typeof t.recordPreset=="string"?t.recordPreset:M.recordPreset,recordSeconds:Number(t.recordSeconds??M.recordSeconds),recordFps:Number(t.recordFps??M.recordFps),recordResolution:typeof t.recordResolution=="string"?t.recordResolution:M.recordResolution,recordQuality:typeof t.recordQuality=="string"?t.recordQuality:M.recordQuality,penCustomParams:Jt(t.penCustomParams),symmetryType:t.symmetryType==="mirror"||t.symmetryType==="rotate"?t.symmetryType:M.symmetryType}}catch{return{...M}}}function jt(n){localStorage.setItem(hs,JSON.stringify(n))}function zn(n){return es(n)}function Ln(n,t){const o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),o.remove()}function On(n){const t=Math.max(1,Math.min(8,Math.floor(n.scale))),o=Ae(),a=document.createElement("canvas");a.width=e.width*t,a.height=e.height*t;const i=a.getContext("2d");if(!i)return;i.imageSmoothingEnabled=!0,i.drawImage(o,0,0,a.width,a.height);const r=new Date().toISOString().replace(/[:.]/g,"-");Ln(a.toDataURL("image/png"),`hikari-no-crayon-${r}.png`)}function Fn(){return{canvas:e.canvas,c:e.c,width:e.width,height:e.height,penSize:e.penSize,penColor:e.penColor,penTool:e.penTool,selectedPenName:e.selectedPenName,effects:e.effects,count:e.count,isRainbowMode:e.isRainbowMode,rainbowSaturation:e.rainbowSaturation,rainbowBrightness:e.rainbowBrightness,isFadeMode:e.isFadeMode,isAutoMode:e.isAutoMode,isYamiMode:e.isYamiMode,yamiStrength:e.yamiStrength,isSymmetryMode:e.isSymmetryMode,symmetryType:e.symmetryType,symmetryCount:e.symmetryCount,symmetryOriginX:e.symmetryOriginX,symmetryOriginY:e.symmetryOriginY,margin:e.margin,penCustomParams:e.penCustomParams}}function Nn(n){e.canvas=n.canvas,e.c=n.c,e.width=n.width,e.height=n.height,e.penSize=n.penSize,e.penColor=n.penColor,e.penTool=n.penTool,e.selectedPenName=n.selectedPenName,e.effects=n.effects,e.count=n.count,e.isRainbowMode=n.isRainbowMode,e.rainbowSaturation=n.rainbowSaturation,e.rainbowBrightness=n.rainbowBrightness,e.isFadeMode=n.isFadeMode,e.isAutoMode=n.isAutoMode,e.isYamiMode=n.isYamiMode,e.yamiStrength=n.yamiStrength,e.isSymmetryMode=n.isSymmetryMode,e.symmetryType=n.symmetryType,e.symmetryCount=n.symmetryCount,e.symmetryOriginX=n.symmetryOriginX,e.symmetryOriginY=n.symmetryOriginY,e.margin=n.margin,e.penCustomParams=n.penCustomParams}const C=80,Rn=800,Kt=200,An="M 10,90 C 30,10 70,10 50,50 C 30,90 70,90 90,10";let ft=null;function In(){if(!ft){const n=is(An,2);ft=rs(n,C,C,8)}return ft}function Hn(n,t){const o=Fn();try{const a=C/Rn;if(e.canvas=t.canvas,e.c=t.ctx,e.width=C,e.height=C,e.penSize=Math.max(1,n.size*a),e.penColor=es(n.colorHex),e.penTool=e.penTools[n.pen]??null,e.selectedPenName=n.pen,e.effects=t.effects,e.count=t.count,e.isRainbowMode=n.rainbowMode,e.rainbowSaturation=n.rainbowSaturation,e.rainbowBrightness=n.rainbowBrightness,e.isFadeMode=n.fadeMode,e.isAutoMode=!0,e.isYamiMode=n.yamiMode,e.yamiStrength=n.yamiStrength,e.isSymmetryMode=n.symmetryMode,e.symmetryType=n.symmetryType,e.symmetryCount=n.symmetryCount,e.symmetryOriginX=n.symmetryOriginX/100,e.symmetryOriginY=n.symmetryOriginY/100,e.margin=Math.max(2,40*a),typeof n.lifeSnapToGrid=="boolean"&&(e.penCustomParams={...o.penCustomParams,life_pen:{...o.penCustomParams.life_pen,snap_to_grid:n.lifeSnapToGrid}}),t.count+=1,e.count=t.count,n.rainbowMode&&(e.penColor=wt(t.count%60*6,n.rainbowSaturation,n.rainbowBrightness)),n.fadeMode&&(e.c.globalCompositeOperation="source-over",e.c.fillStyle=N({r:0,g:0,b:0},.05),e.c.fillRect(0,0,C,C)),e.c.globalCompositeOperation=Ye(),e.penTool){let i,r;if(n.autoMode&&t.pathPoints)i=Math.floor(Math.random()*C),r=Math.floor(Math.random()*C);else if(t.pathPoints){const c=t.pathPoints.length,h=Math.floor(t.pathIndex/c),u=t.pathPoints[t.pathIndex%c],y=h*12%C;i=(u.x+y)%C,r=u.y,t.pathIndex+=1}else i=Math.floor(Math.random()*C),r=Math.floor(Math.random()*C);if(!n.symmetryMode)e.penTool.draw(i,r);else{const c=C*(n.symmetryOriginX/100),h=C*(n.symmetryOriginY/100),u=i-c,y=r-h,w=Math.max(1,n.symmetryCount);for(let x=0;x<w;x+=1){const k=Math.PI*2*x/w,L=Math.cos(k),T=Math.sin(k);e.penTool.draw(c+u*L-y*T,h+u*T+y*L),n.symmetryType==="mirror"&&e.penTool.draw(c+u*L+y*T,h+u*T-y*L)}}}t.effects.forEach(i=>{i.move(),i.render()}),t.effects=t.effects.filter(i=>!i.delFlg),t.effects.length>Kt&&(t.effects=t.effects.slice(-Kt)),e.effects=t.effects}finally{Nn(o)}}let ce=null,U=null;function Yn(n,t){ms(),U=new Map;for(const i of n){const r=i.dataset.simplePreset;if(!r||!t[r])continue;let c=i.querySelector("canvas");c||(c=document.createElement("canvas"),c.width=C,c.height=C,i.appendChild(c));const h=c.getContext("2d");if(!h)continue;const u=t[r];h.fillStyle=u.yamiMode?"#ffffff":"#000000",h.fillRect(0,0,C,C),U.set(r,{canvas:c,ctx:h,effects:[],count:0,pathPoints:u.autoMode?null:In(),pathIndex:0})}let o=0;function a(){if(o+=1,o%4===0&&U)for(const[i,r]of U){const c=t[i];c&&Hn(c,r)}ce=requestAnimationFrame(a)}ce=requestAnimationFrame(a)}function ms(){if(ce!==null&&(cancelAnimationFrame(ce),ce=null),U)for(const n of U.values())n.effects=[],n.count=0,n.ctx.clearRect(0,0,C,C);U=null}function m(n){const t=document.getElementById(n);if(!t)throw new Error(`Element not found: #${n}`);return t}function Dn(n,t){const o=Array.from(document.querySelectorAll(`input[name=${n}]`)),a=i=>{var r;o.forEach(c=>{var h;(h=c.closest("label"))==null||h.classList.remove("selected")}),(r=i.closest("label"))==null||r.classList.add("selected"),t(i.value)};return o.forEach(i=>{var r;i.addEventListener("change",()=>{i.checked&&a(i)}),(r=i.closest("label"))==null||r.addEventListener("click",()=>{i.checked||(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})))})}),{inputs:o,clearSelection:()=>{o.forEach(i=>{var r;i.checked=!1,(r=i.closest("label"))==null||r.classList.remove("selected")})},selectByValue:i=>{const r=o.find(c=>c.value===i);return r?(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1},highlightByValue:i=>{var c;const r=o.find(h=>h.value===i);return r?(o.forEach(h=>{var u;(u=h.closest("label"))==null||u.classList.remove("selected")}),(c=r.closest("label"))==null||c.classList.add("selected"),!0):!1},dispatchChecked:()=>{const i=o.find(r=>r.checked);i&&i.dispatchEvent(new Event("change",{bubbles:!0}))}}}function Qt(n){e.mouse.x=n.pageX,e.mouse.y=n.pageY}const Bn=[{value:"normal_pen",icon:"光",name:"ひかりのくれよん"},{value:"blood_pen",icon:"血",name:"けっかんぺんしる"},{value:"fur_pen",icon:"毛",name:"ふぁーえんぴつ"},{value:"snow_pen",icon:"雪",name:"ゆきぱすてる"},{value:"hoshi_pen",icon:"星",name:"ほしわいやー"},{value:"life_pen",icon:"生",name:"らいふげーむぺん"},{value:"hane_pen",icon:"羽",name:"はねぺん"},{value:"nami_pen",icon:"波",name:"なみふで"},{value:"spray_pen",icon:"霧",name:"すぷれーかん"},{value:"bubble_pen",icon:"泡",name:"あわすぷれー"},{value:"orbit_pen",icon:"彗",name:"おーびっとぺん"},{value:"fractal_bloom_pen",icon:"渦",name:"ふらくたるぶるーむ"},{value:"degi_pen",icon:"電",name:"でじたるぺん"},{value:"shinmyaku_pen",icon:"脈",name:"しんみゃくぺん"}],Vn="pen_custom_controls";function Xn(){const n=document.getElementById("pl");if(n)for(const t of Bn){if(n.querySelector(`input[name="pen"][value="${t.value}"]`))continue;const a=document.createElement("li"),i=document.createElement("label");i.className="pen_option";const r=document.createElement("input");r.type="radio",r.name="pen",r.value=t.value;const c=document.createElement("span");c.className="pen_icon",c.textContent=t.icon;const h=document.createElement("span");h.className="pen_name",h.textContent=t.name,i.appendChild(r),i.appendChild(c),i.appendChild(h),a.appendChild(i),n.appendChild(a)}}function qn(){Xn();const n=m("dock_show_button"),t=m("simple_settings_button"),o=m("simple_settings_modal"),a=m("simple_settings_close_button"),i=m("dock_hide_button"),r=m("menu"),c=m("bottom_dock"),h=m("dock_size_range"),u=m("size_dock_value"),y=m("pen_dock_value"),w=m("rainbow_dock_value"),x=m("fade_dock_value"),k=m("auto_dock_value"),L=m("yami_dock_value"),T=m("symmetry_dock_value"),he=m("dock_fade_toggle_button"),me=m("dock_auto_toggle_button"),O=m("dock_color_picker"),Xe=m("undo_button"),qe=m("redo_button"),Ge=m("dock_undo_button"),$e=m("dock_redo_button"),ps=m("dock_clear_button"),Ue=m("rainbow_mode"),ys=m("rainbow_mode_label"),ue=m("rainbow_saturation"),fs=m("rainbow_saturation_value"),pe=m("rainbow_brightness"),gs=m("rainbow_brightness_value"),We=m("symmetry_mode"),Ms=m("symmetry_mode_label"),te=m("symmetry_hud"),se=m("symmetry_type"),ne=m("symmetry_count"),ye=m("symmetry_origin_x"),fe=m("symmetry_origin_y"),bs=m("symmetry_origin_x_value"),ws=m("symmetry_origin_y_value"),Pt=m("symmetry_origin_x_reset"),kt=m("symmetry_origin_y_reset"),je=m("yami_mode"),Ss=m("yami_mode_label"),ge=m("yami_strength"),xs=m("yami_strength_value"),oe=m("record_preset"),K=m("record_seconds"),Me=m("record_fps"),D=m("record_resolution"),X=m("record_quality"),ie=m("record_button"),vs=m("svg_path_input"),Et=m("svg_path_step"),Cs=m("svg_path_fit"),Tt=m("svg_path_speed"),q=m("svg_path_draw_button"),_s=m("reset_settings_button"),zt=m("record_status"),G=m("record_frame_hud"),Ps=m("record_frame_hud_label"),be=m(Vn),Lt=Array.from(document.querySelectorAll(".simple_preset_button"));let Ke=!0;const ks=(s,l)=>{const d=e.penCustomParams[s]??{};typeof d!="object"||!d?e.penCustomParams[s]={}:e.penCustomParams[s]=d,l.key in e.penCustomParams[s]||(e.penCustomParams[s][l.key]=l.defaultValue)},Ot=(s,l)=>{var p;if(!Number.isFinite(s.step)||s.step>=1)return String(Math.round(l));const d=Math.min(4,((p=String(s.step).split(".")[1])==null?void 0:p.length)??2);return l.toFixed(d)},Ft=s=>{be.innerHTML="";const l=Mt[s]??[];if(l.length===0){const d=document.createElement("p");d.className="pen_custom_empty",d.textContent="このぺんは かすたむせってい なし",be.appendChild(d);return}l.forEach(d=>{if(ks(s,d),d.type==="boolean"){const S=document.createElement("label");S.className="export_label pen_custom_checkbox";const z=document.createElement("span");z.textContent=d.label;const R=document.createElement("input");R.type="checkbox",R.checked=e.penCustomParams[s][d.key]===!0,R.addEventListener("change",()=>{e.penCustomParams[s][d.key]=R.checked,b()}),S.appendChild(z),S.appendChild(R),be.appendChild(S);return}const p=document.createElement("label");p.className="range_label";const f=document.createElement("span");f.textContent=d.label;const g=document.createElement("input");g.type="range",g.min=String(d.min),g.max=String(d.max),g.step=String(d.step);const E=Number(e.penCustomParams[s][d.key]),v=Number.isFinite(E)?Math.max(d.min,Math.min(d.max,E)):d.defaultValue;g.value=String(v);const _=document.createElement("strong");_.className="pen_custom_value",_.textContent=Ot(d,v),g.addEventListener("input",()=>{const S=Number(g.value),z=Number.isFinite(S)?Math.max(d.min,Math.min(d.max,S)):v;e.penCustomParams[s][d.key]=z,_.textContent=Ot(d,z),b()}),p.appendChild(f),p.appendChild(g),p.appendChild(_),be.appendChild(p)})},b=()=>{if(!Ke)return;const s={pen:e.selectedPenName,size:e.penSize,colorHex:Ie(e.penColor),rainbowMode:e.isRainbowMode,rainbowSaturation:e.rainbowSaturation,rainbowBrightness:e.rainbowBrightness,fadeMode:e.isFadeMode,autoMode:e.isAutoMode,yamiMode:e.isYamiMode,yamiStrength:e.yamiStrength,symmetryMode:e.isSymmetryMode,symmetryHud:e.isSymmetryHudVisible,symmetryType:e.symmetryType,symmetryCount:e.symmetryCount,symmetryOriginX:Math.round(e.symmetryOriginX*100),symmetryOriginY:Math.round(e.symmetryOriginY*100),recordPreset:oe.value,recordSeconds:Number(K.value),recordFps:Number(Me.value),recordResolution:D.value,recordQuality:X.value,penCustomParams:e.penCustomParams};jt(s)},Qe=(s,l)=>{if(!e.penTool)return;if(!e.isSymmetryMode){e.penTool.draw(s,l);return}const d=e.width*e.symmetryOriginX,p=e.height*e.symmetryOriginY,f=s-d,g=l-p,E=Math.max(1,e.symmetryCount);for(let v=0;v<E;v+=1){const _=Math.PI*2*v/E,S=Math.cos(_),z=Math.sin(_),R=f*S-g*z,P=f*z+g*S;if(e.penTool.draw(d+R,p+P),e.symmetryType==="mirror"){const Y=f*S+g*z,F=f*z-g*S;e.penTool.draw(d+Y,p+F)}}},we=()=>{const s=cs(),l=ds();Xe.classList.toggle("is-disabled",!s),qe.classList.toggle("is-disabled",!l),Xe.setAttribute("aria-disabled",String(!s)),qe.setAttribute("aria-disabled",String(!l)),Ge.classList.toggle("is-disabled",!s),$e.classList.toggle("is-disabled",!l),Ge.setAttribute("aria-disabled",String(!s)),$e.setAttribute("aria-disabled",String(!l))},Je=()=>{var l,d,p,f,g;const s=!e.isSymmetryMode;te.disabled=s,se.disabled=s,ne.disabled=s,ye.disabled=s,fe.disabled=s,Pt.disabled=s,kt.disabled=s,(l=te.closest("label"))==null||l.classList.toggle("is-disabled",s),(d=se.closest("label"))==null||d.classList.toggle("is-disabled",s),(p=ne.closest("label"))==null||p.classList.toggle("is-disabled",s),(f=ye.closest("label"))==null||f.classList.toggle("is-disabled",s),(g=fe.closest("label"))==null||g.classList.toggle("is-disabled",s),Ms.textContent=e.isSymmetryMode?"OFFにする":"ONにする"},Se=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));ye.value=String(l),bs.textContent=`${l}%`,e.symmetryOriginX=l/100,b()},xe=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));fe.value=String(l),ws.textContent=`${l}%`,e.symmetryOriginY=l/100,b()},Ze=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));e.yamiStrength=l,ge.value=String(l),xs.textContent=String(l),ve(),b()},et=()=>{var l;const s=!e.isYamiMode;ge.disabled=s,(l=ge.closest("label"))==null||l.classList.toggle("is-disabled",s),Ss.textContent=e.isYamiMode?"OFFにする":"ONにする"},tt=()=>{var l,d;const s=!e.isRainbowMode;ue.disabled=s,pe.disabled=s,(l=ue.closest("label"))==null||l.classList.toggle("is-disabled",s),(d=pe.closest("label"))==null||d.classList.toggle("is-disabled",s),ys.textContent=e.isRainbowMode?"OFFにする":"ONにする"},st=s=>{const l=Math.max(0,Math.min(255,Math.round(s)));e.rainbowSaturation=l,ue.value=String(l),fs.textContent=String(l),b()},nt=s=>{const l=Math.max(0,Math.min(255,Math.round(s)));e.rainbowBrightness=l,pe.value=String(l),gs.textContent=String(l),b()},re=()=>{w.textContent=e.isRainbowMode?"ON":"OFF",at==null||at.classList.toggle("is-on-state",e.isRainbowMode),x.textContent=e.isFadeMode?"ON":"OFF",he.classList.toggle("is-on-state",e.isFadeMode),k.textContent=e.isAutoMode?"ON":"OFF",me.classList.toggle("is-on-state",e.isAutoMode)},ve=()=>{L.textContent=e.isYamiMode?`ON ${e.yamiStrength}`:"OFF",lt==null||lt.classList.toggle("is-on-state",e.isYamiMode)},ae=()=>{if(!e.isSymmetryMode){T.textContent="OFF",Q==null||Q.classList.remove("is-on-state");return}const s=e.symmetryType==="mirror"?"M":"R";T.textContent=`${s}${e.symmetryCount}`,Q==null||Q.classList.add("is-on-state")},Ce=()=>{_t(),we()},ot=s=>{e.penSize=Math.max(3,Math.min(300,s)),h.value=String(e.penSize),u.textContent=`${e.penSize}px`,b()},it=s=>{e.penColor=zn(s);const l=Ie(e.penColor);O.value=l,b()},Es=()=>{if(!e.isRainbowMode)return;const s=Ie(e.penColor);O.value!==s&&(O.value=s)},Nt={nijiiro:{pen:"normal_pen",size:100,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},mangekyo:{pen:"snow_pen",size:64,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:160,rainbowBrightness:100,fadeMode:!0,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!0,symmetryHud:!0,symmetryType:"rotate",symmetryCount:8,symmetryOriginX:50,symmetryOriginY:50},lifegame:{pen:"life_pen",size:160,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:160,rainbowBrightness:60,fadeMode:!0,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50,lifeSnapToGrid:!1},futsu:{pen:"normal_pen",size:64,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},bukimi:{pen:"blood_pen",size:64,colorHex:"#ff3b4f",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!0,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},hane:{pen:"hane_pen",size:100,colorHex:"#0f172f",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},yamispray:{pen:"spray_pen",size:140,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!0,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},yamikeshi:{pen:"normal_pen",size:80,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!0,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50}},Ts=s=>s==="nijiiro"||s==="mangekyo"||s==="lifegame"||s==="futsu"||s==="bukimi"||s==="hane"||s==="yamispray"||s==="yamikeshi",_e=()=>{o.classList.remove("is-open"),o.setAttribute("aria-hidden","true"),ms()},zs=()=>{o.classList.add("is-open"),o.setAttribute("aria-hidden","false"),Yn(Lt,Nt)},Ls=s=>{const l=Nt[s];if(l){if(Ee.selectByValue(l.pen)||Ee.selectByValue(M.pen),ot(l.size),it(l.colorHex),Ue.checked=l.rainbowMode,e.isRainbowMode=l.rainbowMode,st(l.rainbowSaturation),nt(l.rainbowBrightness),tt(),e.isFadeMode=l.fadeMode,e.isAutoMode=l.autoMode,je.checked=l.yamiMode,e.isYamiMode=l.yamiMode,Ze(l.yamiStrength),et(),We.checked=l.symmetryMode,e.isSymmetryMode=l.symmetryMode,te.checked=l.symmetryHud,e.isSymmetryHudVisible=l.symmetryHud,se.value=l.symmetryType,e.symmetryType=l.symmetryType,ne.value=String(l.symmetryCount),e.symmetryCount=[2,4,6,8,16,32].includes(l.symmetryCount)?l.symmetryCount:4,Se(l.symmetryOriginX),xe(l.symmetryOriginY),Je(),typeof l.lifeSnapToGrid=="boolean"){const d=e.penCustomParams.life_pen;e.penCustomParams.life_pen={...typeof d=="object"&&d?d:{},snap_to_grid:l.lifeSnapToGrid},e.selectedPenName==="life_pen"&&Ft("life_pen")}ee(),re(),ve(),ae(),b(),_e()}},rt=Array.from(c.querySelectorAll(".dock_btn")),at=c.querySelector('.dock_btn[data-panel="ml"]'),lt=c.querySelector('.dock_btn[data-panel="yh"]'),Q=c.querySelector('.dock_btn[data-panel="sy"]'),ct=["pl","pc","ml","yh","sy","etc"],dt=ct.reduce((s,l)=>(s[l]=m(l),s),{});let Pe=null,Rt=!0;const ke=()=>{const s=Rt?Math.ceil(c.getBoundingClientRect().height)+8:0;document.documentElement.style.setProperty("--dock-offset",`${s}px`)},H=()=>{ct.forEach(s=>{dt[s].style.display="none"}),rt.forEach(s=>{s.classList.remove("is-active")}),Pe=null,r.style.display="none"},Os=s=>{Pe=s,r.style.display="",ct.forEach(l=>{dt[l].style.display=l===s?"":"none"}),rt.forEach(l=>{l.classList.toggle("is-active",l.dataset.panel===s)})};rt.forEach(s=>{s.addEventListener("click",()=>{const l=s.dataset.panel;if(!(!l||!dt[l])){if(Pe===l){H();return}Os(l)}})}),Array.from(r.querySelectorAll(".panel_close")).forEach(s=>{s.addEventListener("click",()=>{H()})}),document.addEventListener("pointerdown",s=>{if(!Pe)return;const l=s.target;l&&(r.contains(l)||c.contains(l)||H())});const ht=s=>{Rt=s,c.style.display=s?"":"none",n.style.display=s?"none":"block",ke(),s||H()};typeof ResizeObserver<"u"&&new ResizeObserver(()=>{ke()}).observe(c),window.addEventListener("resize",ke),ke(),i.addEventListener("click",()=>{ht(!1)}),n.addEventListener("click",()=>{ht(!0)}),t.addEventListener("click",()=>{zs()}),a.addEventListener("click",()=>{_e()}),o.addEventListener("pointerdown",s=>{s.target===o&&_e()}),Lt.forEach(s=>{s.addEventListener("click",()=>{const l=s.dataset.simplePreset;!l||!Ts(l)||Ls(l)})}),window.addEventListener("keydown",s=>{s.key==="Escape"&&o.classList.contains("is-open")&&_e()});const Ee=Dn("pen",s=>{var p,f;e.selectedPenName=s,e.penTool=e.penTools[s]??e.penTools[M.pen]??Object.values(e.penTools)[0]??null,Ft(s);const l=document.querySelector(`input[name=pen][value="${s}"]`),d=(f=(p=l==null?void 0:l.closest("label"))==null?void 0:p.querySelector(".pen_name"))==null?void 0:f.textContent;y.textContent=d??s,H(),b()});h.addEventListener("input",s=>{const l=Number(s.currentTarget.value);ot(l)}),O.addEventListener("input",s=>{const l=s.currentTarget.value;it(l)}),Ue.addEventListener("change",s=>{e.isRainbowMode=s.currentTarget.checked,tt(),re(),b()}),ue.addEventListener("input",s=>{st(Number(s.currentTarget.value))}),pe.addEventListener("input",s=>{nt(Number(s.currentTarget.value))}),he.addEventListener("click",()=>{e.isFadeMode=!e.isFadeMode,re(),b()}),me.addEventListener("click",()=>{e.isAutoMode=!e.isAutoMode,re(),b()}),je.addEventListener("change",s=>{e.isYamiMode=s.currentTarget.checked,et(),ve(),ee(),b()}),ge.addEventListener("input",s=>{Ze(Number(s.currentTarget.value))}),We.addEventListener("change",s=>{e.isSymmetryMode=s.currentTarget.checked,Je(),ae(),b()}),te.addEventListener("change",s=>{e.isSymmetryHudVisible=s.currentTarget.checked,b()}),se.addEventListener("change",s=>{e.symmetryType=s.currentTarget.value==="mirror"?"mirror":"rotate",ae(),b()}),ne.addEventListener("change",s=>{const l=Number(s.currentTarget.value);e.symmetryCount=[2,4,6,8,16,32].includes(l)?l:4,ae(),b()}),ye.addEventListener("input",s=>{Se(Number(s.currentTarget.value))}),fe.addEventListener("input",s=>{xe(Number(s.currentTarget.value))}),Pt.addEventListener("click",()=>{Se(50)}),kt.addEventListener("click",()=>{xe(50)});const At=()=>{St(e.c),e.effects=[],Ce(),H()};m("clear_button").addEventListener("click",At),ps.addEventListener("click",At),m("reverse_button").addEventListener("click",()=>{$s(),Ce()}),m("save_button").addEventListener("click",()=>{On({scale:1})});const Fs=(s,l)=>new Promise(d=>{let p=0,f=0;const g=()=>{ee();let E=l;for(;p<s.length&&E>0;){const v=s[p];if(!v||f>=v.length){p+=1,f=0;continue}const _=v[f];Qe(_.x,_.y),f+=1,E-=1}if(p>=s.length){d();return}window.requestAnimationFrame(g)};window.requestAnimationFrame(g)}),Ns=async()=>{const s=_n(vs.value);if(s.length===0){window.alert("SVG path を入力してください。");return}const l=Number(Et.value),d=Number.isFinite(l)?Math.max(.5,Math.min(10,l)):4;Et.value=String(d);const p=Number.parseInt(Tt.value,10),f=[1,2,4,8].includes(p)?p:1;Tt.value=String(f);try{const g=[];if(s.forEach(v=>{try{const _=is(v,d);_.length>0&&g.push(_)}catch{}}),g.length===0){window.alert("有効な path を読み取れませんでした。");return}let E=g;if(Cs.checked){const v=g.flat(),_=rs(v,e.width,e.height,e.margin);let S=0;E=g.map(z=>{const R=_.slice(S,S+z.length);return S+=z.length,R})}H(),await Fs(E,f),e.didDrawInStroke=E.some(v=>v.length>0),e.didDrawInStroke&&(Ce(),e.didDrawInStroke=!1)}catch(g){const E=g instanceof Error?g.message:"SVG path の解析に失敗しました。";window.alert(E)}},Rs=async()=>{if(q.disabled)return;q.disabled=!0;const s=q.textContent;q.textContent="なぞりちゅう...";try{await Ns()}finally{q.disabled=!1,q.textContent=s}};q.addEventListener("click",s=>{s.preventDefault(),Rs()});let le=!1,Te=null,ze=10;const It={standard:{seconds:10,fps:60,resolution:"source",quality:"auto"},short_standard:{seconds:15,fps:30,resolution:"1080x1920",quality:"10000000"},short_light:{seconds:15,fps:30,resolution:"720x1280",quality:"5000000"}},B={preset:M.recordPreset,seconds:M.recordSeconds,fps:M.recordFps,resolution:M.recordResolution,quality:M.recordQuality},J=(s,l,d,p)=>Number.isFinite(s)?Math.max(l,Math.min(d,Math.round(s))):p,Le=(s,l)=>Array.from(s.options).some(d=>d.value===l),Ht=s=>s==="standard"||s==="short_standard"||s==="short_light"||s==="custom"?s:"standard",Yt=()=>{const s=J(Number(K.value),1,120,B.seconds),l=J(Number(Me.value),1,60,B.fps),d=Le(D,D.value)?D.value:B.resolution,p=Le(X,X.value)?X.value:B.quality;return{seconds:s,fps:l,resolution:d,quality:p}},mt=s=>{const l={seconds:J(s.seconds,1,120,B.seconds),fps:J(s.fps,1,60,B.fps),resolution:Le(D,s.resolution)?s.resolution:B.resolution,quality:Le(X,s.quality)?s.quality:B.quality};K.value=String(l.seconds),Me.value=String(l.fps),D.value=l.resolution,X.value=l.quality,Oe()},As=s=>{const d=Object.entries(It).find(([,p])=>p.seconds===s.seconds&&p.fps===s.fps&&p.resolution===s.resolution&&p.quality===s.quality);return d?d[0]:null},Dt=s=>{if(s==="source")return null;const[l,d]=s.split("x"),p=Number.parseInt(l??"",10),f=Number.parseInt(d??"",10);return!Number.isFinite(p)||!Number.isFinite(f)||p<=0||f<=0?null:{width:p,height:f}},Bt=(s,l,d)=>{if(!Number.isFinite(d)||d<=0||s<=0||l<=0)return{x:0,y:0,width:s,height:l};const p=s/l;if(Math.abs(p-d)<1e-4)return{x:0,y:0,width:s,height:l};if(p>d){const E=Math.max(1,Math.round(l*d));return{x:Math.round((s-E)/2),y:0,width:E,height:l}}const f=Math.max(1,Math.round(s/d));return{x:0,y:Math.round((l-f)/2),width:s,height:f}},Oe=()=>{if(!le){G.classList.remove("is-visible");return}const s=Dt(D.value);if(!s){G.classList.remove("is-visible");return}const l=Ae(),d=Bt(l.width,l.height,s.width/s.height),p=l.clientWidth/l.width,f=l.clientHeight/l.height;G.style.left=`${d.x*p}px`,G.style.top=`${d.y*f}px`,G.style.width=`${d.width*p}px`,G.style.height=`${d.height*f}px`,Ps.textContent=`${s.width}x${s.height} クロップ`,G.classList.add("is-visible")},Is=()=>{const s=Yt(),l=Dt(s.resolution),d=s.quality==="auto"?void 0:J(Number(s.quality),1e5,5e7,5e6);return mt(s),{seconds:s.seconds,fps:s.fps,quality:d,resolution:l}},Fe=()=>{if(le)return;const s=J(Number(K.value),1,120,ze);ze=s,K.value=String(s),ie.textContent=`${s}秒録画`},Z=()=>{const s=As(Yt());oe.value=s??"custom"},Vt=s=>{s!=="custom"?(mt(It[s]),oe.value=s):Z(),Fe()},Hs=s=>{const l=Ht(s.recordPreset),d={seconds:s.recordSeconds,fps:s.recordFps,resolution:s.recordResolution,quality:s.recordQuality};l==="custom"?(mt(d),Z()):Vt(l),Fe()},Xt=s=>{zt.textContent=`● 録画中 ${s}s`},Ys=()=>{Te!==null&&(window.clearInterval(Te),Te=null)},ut=s=>{le=s,ie.classList.toggle("is-disabled",s),ie.setAttribute("aria-disabled",String(s)),ie.textContent=s?"録画中...":`${ze}秒録画`,zt.classList.toggle("is-visible",s),Oe(),s||Ys()};K.addEventListener("input",()=>{Fe(),Z(),b()}),Me.addEventListener("input",()=>{Z(),b()}),D.addEventListener("change",()=>{Z(),Oe(),b()}),X.addEventListener("change",()=>{Z(),b()}),oe.addEventListener("change",()=>{Vt(Ht(oe.value)),b()}),ie.addEventListener("click",s=>{if(s.preventDefault(),le)return;if(typeof MediaRecorder>"u"){window.alert("このブラウザは録画に対応していません。");return}const l=Ae();if(typeof l.captureStream!="function"){window.alert("このブラウザは録画に対応していません。");return}const d=Is();ze=d.seconds;let p=l,f=null;if(d.resolution){const P=document.createElement("canvas");P.width=d.resolution.width,P.height=d.resolution.height;const Y=P.getContext("2d");if(!Y){window.alert("録画用キャンバスの作成に失敗しました。");return}const F=Bt(l.width,l.height,d.resolution.width/d.resolution.height),Re=()=>{Y.drawImage(l,F.x,F.y,F.width,F.height,0,0,P.width,P.height)};Re(),f=window.setInterval(Re,Math.max(16,Math.floor(1e3/d.fps))),p=P}const g=p.captureStream(d.fps),v=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"].find(P=>MediaRecorder.isTypeSupported(P)),_={};v&&(_.mimeType=v),d.quality&&(_.videoBitsPerSecond=d.quality);const S=new MediaRecorder(g,_),z=[];ut(!0),Xt(d.seconds);const R=Date.now();Te=window.setInterval(()=>{const P=Math.floor((Date.now()-R)/1e3),Y=Math.max(0,d.seconds-P);Xt(Y)},200),H(),S.addEventListener("dataavailable",P=>{P.data.size>0&&z.push(P.data)}),S.addEventListener("stop",()=>{g.getTracks().forEach(Vs=>{Vs.stop()}),f!==null&&(window.clearInterval(f),f=null);const P=new Blob(z,{type:S.mimeType||"video/webm"}),Y=URL.createObjectURL(P),F=document.createElement("a"),Re=new Date().toISOString().replace(/[:.]/g,"-");F.href=Y,F.download=`hikari-no-crayon-${Re}.webm`,document.body.appendChild(F),F.click(),F.remove(),URL.revokeObjectURL(Y),ut(!1)}),S.addEventListener("error",()=>{g.getTracks().forEach(P=>{P.stop()}),f!==null&&(window.clearInterval(f),f=null),ut(!1),window.alert("録画に失敗しました。")}),S.start(250),window.setTimeout(()=>{S.state!=="inactive"&&S.stop()},d.seconds*1e3)}),Fe();const pt=()=>{kn()&&we()},Ne=()=>{En()&&we()};Xe.addEventListener("click",pt),Ge.addEventListener("click",pt),qe.addEventListener("click",Ne),$e.addEventListener("click",Ne),window.addEventListener("keydown",s=>{if(!(s.ctrlKey||s.metaKey))return;const d=s.key.toLowerCase();if(d==="z"&&s.shiftKey){s.preventDefault(),Ne();return}if(d==="z"){s.preventDefault(),pt();return}d==="y"&&(s.preventDefault(),Ne())});const $=Ae();$.style.touchAction="none",window.addEventListener("resize",Oe);const qt=()=>{Es(),window.requestAnimationFrame(qt)};window.requestAnimationFrame(qt),$.addEventListener("pointermove",s=>{Qt(s),ee(),e.isDown&&e.penTool&&(Qe(s.pageX,s.pageY),e.didDrawInStroke=!0)}),$.addEventListener("pointerdown",s=>{e.isDown=!0,e.didDrawInStroke=!1,Qt(s),Qe(s.pageX,s.pageY),e.didDrawInStroke=!0});const yt=()=>{e.isDown=!1,e.didDrawInStroke&&(Ce(),e.didDrawInStroke=!1)};$.addEventListener("pointerup",yt),$.addEventListener("pointercancel",yt),$.addEventListener("pointerleave",yt),$.addEventListener("mouseout",()=>{e.mouse.x="none",e.mouse.y="none"});const Gt=s=>{Ke=!1;try{e.penCustomParams=Jt(s.penCustomParams),ht(!0),Ee.selectByValue(s.pen)||Ee.selectByValue(M.pen),H(),ot(s.size),it(s.colorHex),Ue.checked=s.rainbowMode,e.isRainbowMode=s.rainbowMode,st(s.rainbowSaturation),nt(s.rainbowBrightness),tt(),e.isFadeMode=s.fadeMode,e.isAutoMode=s.autoMode,je.checked=s.yamiMode,e.isYamiMode=s.yamiMode,Ze(s.yamiStrength),et(),ee(),We.checked=s.symmetryMode,e.isSymmetryMode=s.symmetryMode,te.checked=s.symmetryHud,e.isSymmetryHudVisible=s.symmetryHud,se.value=s.symmetryType,e.symmetryType=s.symmetryType,ne.value=String(s.symmetryCount),e.symmetryCount=[2,4,6,8,16,32].includes(s.symmetryCount)?s.symmetryCount:4,Se(s.symmetryOriginX),xe(s.symmetryOriginY),Je(),re(),ve(),ae(),we(),Hs(s)}finally{Ke=!0}b()};_s.addEventListener("click",()=>{le||(jt(M),Gt(M))});const Ds=Tn(),Bs={...M,...Ds};Gt(Bs)}function Gn(){Zt().clearRect(0,0,e.width,e.height)}function $n(){const n=Zt(),t=e.width*e.symmetryOriginX,o=e.height*e.symmetryOriginY,a=Math.sqrt(t*t+o*o),i=Math.max(1,e.symmetryCount);n.save(),n.strokeStyle="rgba(118, 246, 208, 0.45)",n.lineWidth=1,n.setLineDash([8,8]);for(let r=0;r<i;r+=1){const c=Math.PI*2*r/i,h=Math.cos(c)*a,u=Math.sin(c)*a;if(n.beginPath(),n.moveTo(t-h,o-u),n.lineTo(t+h,o+u),n.stroke(),e.symmetryType==="mirror"){const y=c+Math.PI/2,w=Math.cos(y)*a,x=Math.sin(y)*a;n.beginPath(),n.moveTo(t-w,o-x),n.lineTo(t+w,o+x),n.stroke()}}n.setLineDash([]),n.fillStyle="rgba(86, 177, 255, 0.85)",n.beginPath(),n.arc(t,o,3,0,Math.PI*2),n.fill(),n.restore()}function Un(){Gn(),!(!e.isSymmetryMode||!e.isSymmetryHudVisible)&&$n()}function Wn(){if(e.width=window.innerWidth,e.height=window.innerHeight,e.canvas=document.getElementById("canvas"),e.hudCanvas=document.getElementById("hud"),!e.canvas||!e.hudCanvas)throw new Error("Canvas elements were not found");if(e.canvas.width=e.width,e.canvas.height=e.height,e.hudCanvas.width=e.width,e.hudCanvas.height=e.height,e.c=e.canvas.getContext("2d"),e.hudC=e.hudCanvas.getContext("2d"),!e.c||!e.hudC)throw new Error("2D context initialization failed");St(e.c),ee()}function us(){if(e.count+=1,e.isFadeMode&&(e.c.globalCompositeOperation="source-over",e.c.fillStyle=N({r:0,g:0,b:0},.05),e.c.fillRect(0,0,e.width,e.height)),e.c.globalCompositeOperation=Ye(),e.isAutoMode&&e.penTool){const n=Math.floor(Math.random()*e.width),t=Math.floor(Math.random()*e.height);if(!e.isSymmetryMode)e.penTool.draw(n,t);else{const o=e.width*e.symmetryOriginX,a=e.height*e.symmetryOriginY,i=n-o,r=t-a,c=Math.max(1,e.symmetryCount);for(let h=0;h<c;h+=1){const u=Math.PI*2*h/c,y=Math.cos(u),w=Math.sin(u),x=i*y-r*w,k=i*w+r*y;if(e.penTool.draw(o+x,a+k),e.symmetryType==="mirror"){const L=i*y+r*w,T=i*w-r*y;e.penTool.draw(o+L,a+T)}}}}e.isRainbowMode&&(e.penColor=wt(e.count%60*6,e.rainbowSaturation,e.rainbowBrightness)),e.effects.forEach(n=>{n.move(),n.render()}),e.effects=e.effects.filter(n=>!n.delFlg),Un(),window.requestAnimationFrame(us)}function jn(){window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight,e.canvas.width=e.width,e.canvas.height=e.height,e.hudCanvas.width=e.width,e.hudCanvas.height=e.height,St(e.c),e.effects=[],ls(),_t()})}function Kn(){e.penColor=wn,e.selectedPenName=Ut,e.penTools=bn(),e.penTool=e.penTools[Ut],Wn(),ls(),_t(),qn(),jn(),us()}window.addEventListener("load",Kn);

</script>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:min(760px,calc(100vw - 24px));border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
  </head>
  <body>
    <div id="wrapper">
      <div id="contentWrapper">
        <div id="canvasField">
          <canvas id="canvas"></canvas>
          <canvas id="hud"></canvas>
          <div id="record_frame_hud" aria-hidden="true">
            <span id="record_frame_hud_label"></span>
          </div>
          <div id="record_status" aria-live="polite">● 録画中 10s</div>
        </div>

        <button type="button" id="dock_show_button">めにゅーをひょうじ</button>
        <div id="menu">
          <h1 id="plh">ぺんのしゅるい</h1>
          <ul id="pl" class="pen_list">
            <li class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="normal_pen" checked /><span class="pen_icon">光</span><span class="pen_name">ひかりのくれよん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="blood_pen" /><span class="pen_icon">血</span><span class="pen_name">けっかんぺんしる</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="fur_pen" /><span class="pen_icon">毛</span><span class="pen_name">ふぁーえんぴつ</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="snow_pen" /><span class="pen_icon">雪</span><span class="pen_name">ゆきぱすてる</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="hoshi_pen" /><span class="pen_icon">星</span><span class="pen_name">ほしわいやー</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="hane_pen" /><span class="pen_icon">羽</span><span class="pen_name">はねぺん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="nami_pen" /><span class="pen_icon">波</span><span class="pen_name">なみふで</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="spray_pen" /><span class="pen_icon">霧</span><span class="pen_name">すぷれーかん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="bubble_pen" /><span class="pen_icon">泡</span><span class="pen_name">あわすぷれー</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="orbit_pen" /><span class="pen_icon">彗</span><span class="pen_name">おーびっとぺん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="degi_pen" /><span class="pen_icon">電</span><span class="pen_name">でじたるぺん</span></label>
            </li>
          </ul>

          <h1 id="mlh">もーど</h1>
          <div id="ml">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="rainbow_mode" value="true" />
              <span id="rainbow_mode_label">ONにする</span>
            </label>
            <label class="range_label">
              <span>さいど</span>
              <input type="range" id="rainbow_saturation" min="0" max="255" step="1" value="200" />
              <strong id="rainbow_saturation_value">200</strong>
            </label>
            <label class="range_label">
              <span>めいど</span>
              <input type="range" id="rainbow_brightness" min="0" max="255" step="1" value="200" />
              <strong id="rainbow_brightness_value">200</strong>
            </label>
          </div>

          <h1 id="pch">ぺんかすたむ</h1>
          <div id="pc">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <div class="pen_custom_panel">
              <h2 class="pen_custom_title">ぺんかすたむ</h2>
              <div id="pen_custom_controls" class="pen_custom_controls"></div>
            </div>
          </div>

          <h1 id="yhh">やみのくれよん</h1>
          <div id="yh">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="yami_mode" value="true" />
              <span id="yami_mode_label">ONにする</span>
            </label>
            <label class="range_label">
              <span>やみのつよさ</span>
              <input type="range" id="yami_strength" min="0" max="100" step="1" value="100" />
              <strong id="yami_strength_value">100</strong>
            </label>
          </div>

          <h1 id="syh">たいしょう</h1>
          <div id="sy">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="symmetry_mode" value="true" />
              <span id="symmetry_mode_label">ONにする</span>
            </label>
            <label class="mode_button">
              <input type="checkbox" id="symmetry_hud" value="true" />
              <span>じくひょうじ</span>
            </label>
            <label class="export_label">
              <span>たいしょうしゅるい</span>
              <select id="symmetry_type">
                <option value="rotate" selected>かいてん</option>
                <option value="mirror">みらー</option>
              </select>
            </label>
            <label class="export_label">
              <span>たいしょうぶんかつ</span>
              <select id="symmetry_count">
                <option value="2">2</option>
                <option value="4" selected>4</option>
                <option value="6">6</option>
                <option value="8">8</option>
                <option value="16">16</option>
                <option value="32">32</option>
              </select>
            </label>
            <label class="range_label">
              <span>ちゅうしんX</span>
              <input type="range" id="symmetry_origin_x" min="0" max="100" step="1" value="50" />
              <strong id="symmetry_origin_x_value">50%</strong>
              <button type="button" class="mini_reset_button" id="symmetry_origin_x_reset">50%にもどす</button>
            </label>
            <label class="range_label">
              <span>ちゅうしんY</span>
              <input type="range" id="symmetry_origin_y" min="0" max="100" step="1" value="50" />
              <strong id="symmetry_origin_y_value">50%</strong>
              <button type="button" class="mini_reset_button" id="symmetry_origin_y_reset">50%にもどす</button>
            </label>
          </div>

          <h1 id="etch">そのた</h1>
          <div id="etc">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <ul>
              <li class="etc_group">
                <h2 class="etc_group_title">かんたんそうさ</h2>
                <div class="etc_group_body">
                  <div class="button_row" hidden>
                    <a class="btn btn-secondary btn-large" id="undo_button">もどす</a>
                    <a class="btn btn-secondary btn-large" id="redo_button">やりなおし</a>
                  </div>
                  <div hidden><a class="btn btn-primary btn-large" id="clear_button">けす！</a></div>
                  <div><a class="btn btn-primary btn-large" id="reverse_button">はんてん!</a></div>
                  <div><a class="btn btn-primary btn-large" id="save_button">PNGほぞん</a></div>
                  <div><a class="btn btn-secondary btn-large" id="reset_settings_button">せっていをりせっと</a></div>
                </div>
              </li>
              <li class="etc_group">
                <h2 class="etc_group_title">SVG なぞり</h2>
                <div class="etc_group_body">
                  <div class="export_row">
                    <label class="export_label">
                      <span>SVG path d</span>
                      <textarea id="svg_path_input" rows="4" placeholder="M 10 10 L 140 10 L 140 140 Z"></textarea>
                    </label>
                    <label class="export_label">
                      <span>サンプルかんかく (px)</span>
                      <input type="number" id="svg_path_step" min="0.5" max="10" step="0.5" value="4" />
                    </label>
                    <label class="export_label">
                      <span>きゃんばすにふぃっと</span>
                      <input type="checkbox" id="svg_path_fit" checked />
                    </label>
                    <label class="export_label">
                      <span>なぞりそくど</span>
                      <select id="svg_path_speed">
                        <option value="1" selected>ゆっくり (1点/フレーム)</option>
                        <option value="2">ふつう (2点/フレーム)</option>
                        <option value="4">はやめ (4点/フレーム)</option>
                        <option value="8">とてもはやい (8点/フレーム)</option>
                      </select>
                    </label>
                  </div>
                  <div><button type="button" class="btn btn-secondary btn-large" id="svg_path_draw_button">SVGぱすをなぞる</button></div>
                </div>
              </li>
              <li class="etc_group">
                <h2 class="etc_group_title">ろくが</h2>
                <div class="etc_group_body">
                  <div class="export_row">
                    <label class="export_label">
                      <span>ろくが ぷりせっと</span>
                      <select id="record_preset">
                        <option value="standard" selected>ひょうじゅん (10s / 60fps)</option>
                        <option value="short_standard">しょーと きれい (15s / 1080x1920)</option>
                        <option value="short_light">しょーと かるめ (15s / 720x1280)</option>
                        <option value="custom">かすたむ</option>
                      </select>
                    </label>
                    <label class="export_label">
                      <span>ろくが びょうすう</span>
                      <input type="number" id="record_seconds" min="1" max="120" step="1" value="10" />
                    </label>
                    <label class="export_label">
                      <span>ろくが FPS</span>
                      <input type="number" id="record_fps" min="1" max="60" step="1" value="60" />
                    </label>
                    <label class="export_label">
                      <span>ろくが かいぞうど</span>
                      <select id="record_resolution">
                        <option value="source" selected>げんざいのきゃんばす</option>
                        <option value="1080x1920">1080x1920 (たて)</option>
                        <option value="720x1280">720x1280 (たて)</option>
                        <option value="1920x1080">1920x1080</option>
                        <option value="1280x720">1280x720</option>
                        <option value="854x480">854x480</option>
                        <option value="640x360">640x360</option>
                      </select>
                    </label>
                    <label class="export_label">
                      <span>ろくが がしつ</span>
                      <select id="record_quality">
                        <option value="auto" selected>じどう</option>
                        <option value="2500000">ひくめ (2.5Mbps)</option>
                        <option value="5000000">ふつう (5Mbps)</option>
                        <option value="10000000">たかめ (10Mbps)</option>
                      </select>
                    </label>
                  </div>
                  <div><a class="btn btn-primary btn-large" id="record_button">10秒録画</a></div>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <div id="simple_settings_modal" class="simple_settings_modal" aria-hidden="true">
          <div class="simple_settings_dialog" role="dialog" aria-modal="true" aria-labelledby="simple_settings_title">
            <h2 id="simple_settings_title">ぷりせっとをえらぶ</h2>
            <div class="simple_settings_actions">
              <button type="button" class="simple_preset_button" data-simple-preset="nijiiro">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">にじいろ</span>
                  <span class="simple_preset_desc">ひかり + れいんぼー</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="mangekyo">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">まんげきょう</span>
                  <span class="simple_preset_desc">8ぶんかつ たいしょう</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="lifegame">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">らいふげーむ</span>
                  <span class="simple_preset_desc">おーと + ふぇーど</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="futsu">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">ふつう</span>
                  <span class="simple_preset_desc">べーしっくせってい</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="bukimi">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">ぶきみ</span>
                  <span class="simple_preset_desc">あか + おーともーど</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="hane">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">はね</span>
                  <span class="simple_preset_desc">はねぺん + 100px</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="yamispray">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">やみすぷれー</span>
                  <span class="simple_preset_desc">やみ + 140px</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="yamikeshi">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">やみけしごむ</span>
                  <span class="simple_preset_desc">やみ + 80px</span>
                </span>
              </button>
            </div>
            <button type="button" id="simple_settings_close_button" class="btn btn-secondary">とじる</button>
          </div>
        </div>

        <div id="bottom_dock">
          <button type="button" class="dock_btn" id="simple_settings_button">
            <span class="simple_settings_icon" aria-hidden="true"></span>
            <span class="simple_settings_label">ぷりせっと</span>
          </button>
          <label class="dock_inline dock_size_inline">
            <span class="dock_main">おおきさ</span>
            <input type="range" id="dock_size_range" min="3" max="300" step="1" value="64" />
            <span class="dock_sub" id="size_dock_value">64px</span>
          </label>
          <label class="dock_inline dock_color_inline">
            <span class="dock_main">いろ</span>
            <input type="color" id="dock_color_picker" value="#56b1ff" />
          </label>
          <button type="button" class="dock_btn" data-panel="pl">
            <span class="dock_main">ぺん</span>
            <span class="dock_sub" id="pen_dock_value">ひかりのくれよん</span>
          </button>
          <button type="button" class="dock_btn" data-panel="pc">
            <span class="dock_main">かすたむ</span>
          </button>
          <button type="button" class="dock_btn" data-panel="ml">
            <span class="dock_main">れいんぼー</span>
            <span class="dock_sub" id="rainbow_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn dock_mode_toggle" id="dock_fade_toggle_button">
            <span class="dock_main">ふぇーど</span>
            <span class="dock_sub" id="fade_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn dock_mode_toggle" id="dock_auto_toggle_button">
            <span class="dock_main">おーと</span>
            <span class="dock_sub" id="auto_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="yh">
            <span class="dock_main">やみ</span>
            <span class="dock_sub" id="yami_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="sy">
            <span class="dock_main">たいしょう</span>
            <span class="dock_sub" id="symmetry_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="etc">
            <span class="dock_main">そのた</span>
            <span class="dock_sub">ほぞん/ろくが</span>
          </button>
          <div class="dock_action_tile" aria-label="くいっくそうさ">
            <div class="dock_action_top">
              <button type="button" class="dock_action_btn" id="dock_undo_button">もどる</button>
              <button type="button" class="dock_action_btn" id="dock_redo_button">すすむ</button>
            </div>
            <button type="button" class="dock_action_btn dock_action_clear" id="dock_clear_button">けす</button>
          </div>
          <button type="button" class="dock_btn dock_toggle_btn" id="dock_hide_button">めにゅーをかくす</button>
        </div>
      </div>
    </div>
  </body>

</html>
