<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon-precomposed" href="data:image/png;base64,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" />
    <title>ひかりのくれよん</title>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(760px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;align-items:stretch;gap:6px;width:min(860px,calc(100vw - 24px));padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:linear-gradient(180deg,#0a1122e6,#050a16f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:inset 0 1px #daebff14,0 -10px 28px #00000059}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.25);background:linear-gradient(135deg,#ffffff12,#ffffff04)}.dock_size_inline{flex:1 1 280px}.dock_size_inline input[type=range]{width:100%;accent-color:#66bcff}.dock_color_inline{flex:0 0 84px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 0 74px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);color:var(--text);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn{flex:0 0 84px}.dock_btn.is-active{border-color:#a2c1ffd9;background:linear-gradient(140deg,#4b99e859,#76f6d01f)}.dock_btn.is-on-state{border-color:#76f6d0f2;box-shadow:inset 0 0 0 1px #76f6d06b,0 0 14px #76f6d052}.dock_btn[data-panel=yh].is-on-state{border-color:#ff7373f2;background:linear-gradient(140deg,#ff6e6e57,#ffce5429);box-shadow:inset 0 0 0 1px #ff848473,0 0 16px #ff62625c}.dock_btn[data-panel=sy].is-on-state{border-color:#6fe5fff2;background:linear-gradient(140deg,#57baff57,#6fe5ff33)}.dock_btn:hover{border-color:#a2c1ff99;background:#a2c1ff29}.dock_action_tile{flex:0 0 74px;min-height:44px;border:1px solid rgba(162,193,255,.25);border-radius:0;background:linear-gradient(135deg,#ffffff12,#ffffff04);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(135deg,#ffffff14,#ffffff05);color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff99;background:#a2c1ff2e}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline,.dock_color_inline{grid-column:span 2}.dock_btn,.dock_action_tile{flex:none}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:min(760px,calc(100vw - 24px));border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr auto auto;justify-items:center;align-items:center;gap:4px;padding:10px 8px;text-align:center}.simple_preset_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:44px;height:auto;aspect-ratio:1 / 1;border-radius:0;border:1px solid rgba(210,227,255,.75);background:#0b1220;box-shadow:inset 0 0 0 1px #fff3,0 0 0 2px #080c18eb}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_name{font-size:13px;line-height:1.1}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:min(760px,calc(100vw - 24px));border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:100%;max-width:760px;max-height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{max-width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:100%;max-width:760px;max-height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{max-width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}body,body *{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none}input,textarea,select{-webkit-user-select:text;user-select:text;-webkit-touch-callout:default}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:100%;max-width:760px;max-height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{max-width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}body,body *{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none}input,textarea,select{-webkit-user-select:text;user-select:text;-webkit-touch-callout:default}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 74px;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:16px 1fr;gap:6px;align-content:center;justify-items:start;padding-inline:10px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:block;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:11px;font-weight:700;line-height:1;letter-spacing:.01em}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#0408108f}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:100%;max-width:760px;max-height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0000008c;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:10px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:10px;font-weight:600}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{max-width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn,.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
    <style>
      .simple_settings_modal {
        background: rgba(6, 12, 24, 0.34) !important;
        -webkit-backdrop-filter: blur(10px) saturate(1.15) !important;
        backdrop-filter: blur(10px) saturate(1.15) !important;
      }

      .simple_settings_dialog {
        background: rgba(12, 20, 38, 0.56) !important;
        -webkit-backdrop-filter: blur(12px) saturate(1.15) !important;
        backdrop-filter: blur(12px) saturate(1.15) !important;
      }

      .simple_settings_label {
        font-size: 16.5px !important;
        font-weight: 800 !important;
        white-space: nowrap !important;
      }

      #simple_settings_button {
        flex: 0 1 116px !important;
        min-width: 116px !important;
        aspect-ratio: auto !important;
        grid-template-columns: 1fr !important;
        gap: 0 !important;
        justify-items: center !important;
        padding-inline: 12px !important;
      }

      .simple_settings_icon {
        display: none !important;
      }

      .dock_main {
        font-size: 15px !important;
        font-weight: 800 !important;
      }

      .dock_mode_toggle .dock_main {
        font-size: 15px !important;
      }

      @media (max-width: 820px) {
        #simple_settings_button {
          grid-column: span 2 !important;
          min-width: 0 !important;
          width: 100% !important;
        }
      }
    </style>
    <script type="module">
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=o(i);fetch(i.href,a)}})();const xt={normal_pen:[],blood_pen:[],fur_pen:[{key:"line_count",label:"けのほんすう",type:"number",defaultValue:120,min:20,max:320,step:5},{key:"scatter_radius",label:"ちりばり",type:"number",defaultValue:10,min:2,max:60,step:1},{key:"line_width",label:"けのふとさ",type:"number",defaultValue:.1,min:.05,max:2,step:.05}],snow_pen:[],collatz_pen:[],hoshi_pen:[{key:"reverse_rotation",label:"ぎゃくかいてん",type:"boolean",defaultValue:!1},{key:"rotation_speed",label:"かいてんそくど",type:"number",defaultValue:1,min:.2,max:4,step:.1},{key:"line_width",label:"せんのふとさ",type:"number",defaultValue:1,min:.2,max:6,step:.1}],life_pen:[{key:"snap_to_grid",label:"ますめをそろえる",type:"boolean",defaultValue:!1},{key:"circle_cells",label:"まるでかく",type:"boolean",defaultValue:!1},{key:"max_generations",label:"せだいすう",type:"number",defaultValue:80,min:8,max:500,step:1}],hane_pen:[{key:"reverse_rotation",label:"ぎゃくかいてん",type:"boolean",defaultValue:!1},{key:"rotation_speed",label:"かいてんそくど",type:"number",defaultValue:1,min:.2,max:4,step:.1}],nami_pen:[],spray_pen:[],bubble_pen:[],orbit_pen:[],fractal_bloom_pen:[],degi_pen:[],shinmyaku_pen:[],amedrop_pen:[{key:"gravity_direction",label:"じゅうりょくほうこう",type:"number",defaultValue:90,min:0,max:359,step:1},{key:"spawn_count",label:"しずくのかず",type:"number",defaultValue:1,min:1,max:5,step:1},{key:"lifetime",label:"きえるまで",type:"number",defaultValue:180,min:30,max:600,step:1}]};function Us(n,t,o){return Math.max(t,Math.min(o,n))}function vt(){const n={};return Object.entries(xt).forEach(([t,o])=>{n[t]={},o.forEach(r=>{n[t][r.key]=r.defaultValue})}),n}function os(n){const t=vt();if(!n||typeof n!="object")return t;const o=n;return Object.entries(xt).forEach(([r,i])=>{const a=o[r];if(!a||typeof a!="object")return;const c=a;i.forEach(h=>{const m=c[h.key];if(h.type==="boolean"){t[r][h.key]=m===!0;return}const p=Number(m);t[r][h.key]=Number.isFinite(p)?Us(p,h.min,h.max):h.defaultValue})}),t}const e={canvas:null,c:null,hudCanvas:null,hudC:null,width:0,height:0,count:0,mouse:{x:null,y:null},effects:[],isDown:!1,isRainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,isFadeMode:!1,isAutoMode:!1,isYamiMode:!1,yamiStrength:100,isSymmetryMode:!1,isSymmetryHudVisible:!0,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:.5,symmetryOriginY:.5,margin:40,toolboxWidth:200,penTools:{},penTool:null,selectedPenName:"normal_pen",penCustomParams:vt(),penSize:30,penColor:{r:200,g:200,b:200},historyStack:[],historyIndex:-1,didDrawInStroke:!1};function D(){if(!e.c)throw new Error("Main canvas context is not initialized");return e.c}function Ge(){if(!e.canvas)throw new Error("Canvas is not initialized");return e.canvas}function is(){if(!e.hudC)throw new Error("HUD canvas context is not initialized");return e.hudC}function I(n,t){const o=Ws(n);return`rgba(${Math.floor(o.r)},${Math.floor(o.g)},${Math.floor(o.b)},${t})`}function Ws(n){if(!e.isYamiMode)return n;const o=1-Math.max(0,Math.min(100,e.yamiStrength))/100;return{r:n.r*o,g:n.g*o,b:n.b*o}}function Ct(n,t,o){let r,i,a;for(;n<0;)n+=360;if(n%=360,t===0){const S=Math.round(o);return{r:S,g:S,b:S}}const c=t/255,h=Math.floor(n/60)%6,m=n/60-h,p=o*(1-c),b=o*(1-m*c),g=o*(1-(1-m)*c);switch(h){case 0:r=o,i=g,a=p;break;case 1:r=b,i=o,a=p;break;case 2:r=p,i=o,a=g;break;case 3:r=p,i=b,a=o;break;case 4:r=g,i=p,a=o;break;default:r=o,i=p,a=b;break}return{r:Math.round(r),g:Math.round(i),b:Math.round(a)}}function $e(n){const t=o=>Math.max(0,Math.min(255,Math.round(o))).toString(16).padStart(2,"0");return`#${t(n.r)}${t(n.g)}${t(n.b)}`}function as(n){const t=n.replace("#",""),o=t.length===3?t.split("").map(r=>`${r}${r}`).join(""):t;return/^[0-9a-fA-F]{6}$/.test(o)?{r:Number.parseInt(o.slice(0,2),16),g:Number.parseInt(o.slice(2,4),16),b:Number.parseInt(o.slice(4,6),16)}:{r:200,g:200,b:200}}function _t(n){n.globalCompositeOperation="source-over",n.fillStyle="#000000",n.fillRect(0,0,e.width,e.height),n===e.c?n.globalCompositeOperation=We():n.globalCompositeOperation="lighter"}function We(){return e.isYamiMode?"source-over":"lighter"}function ae(){const n=D();n.globalCompositeOperation=We()}function je(n,t,o,r,i,a){const c=D(),h=c.createRadialGradient(n,t,1,n,t,o);h.addColorStop(i,I(r,.7)),h.addColorStop(a,"rgba(0, 0, 0, 0)"),c.fillStyle=h,c.beginPath(),c.arc(n,t,o,0,Math.PI*2,!1),c.fill(),c.closePath()}function js(n,t,o,r,i){const a=D();a.fillStyle=I(r,i),a.beginPath(),a.moveTo(n.x,n.y),a.lineTo(t.x,t.y),a.lineTo(o.x,o.y),a.closePath(),a.fill()}function rs(n,t,o,r){const i=D();i.fillStyle=I(o,r),i.fillRect(n,t,1,1),i.closePath()}function W(n,t,o,r,i){const a=D();a.strokeStyle=I(o,r),a.lineWidth=i,a.beginPath(),a.moveTo(n.x,n.y),a.lineTo(t.x,t.y),a.stroke()}function Ke(n,t,o,r){if(!(n.length<2))for(let i=1;i<n.length;i+=1)W(n[i-1],n[i],t,o,r)}function Ks(){const n=D(),t=n.getImageData(0,0,e.width,e.height),o=t.data,r=e.width*e.height;for(let i=0;i<r;i+=1)o[i*4]=255-o[i*4],o[i*4+1]=255-o[i*4+1],o[i*4+2]=255-o[i*4+2];n.putImageData(t,0,0)}function q(n){return n*Math.PI/180}function U(n,t,o){return{x:n.x+Math.cos(q(o))*t,y:n.y+Math.sin(q(o))*t}}function Qs(n,t){return{x:n*Math.cos(t),y:n*Math.sin(t)}}function Js(n,t){const o=[];let r=e.count%60*6;const i=n/40;for(let a=1;a<n;a+=i)r+=1,o.push(Qs(a,r*t));return o}function Ue(n,t){const o=1-Math.random(),r=1-Math.random(),i=Math.sqrt(-2*Math.log(o));return .5-Math.random()>0?i*Math.sin(Math.PI*2*r)*t+n:i*Math.cos(Math.PI*2*r)*t+n}function Qt(n){return n[Math.floor(Math.random()*n.length)]}function j(n,t){return n.x<0-e.margin||n.y<0-e.margin||n.x>e.width+e.margin||n.y>e.height+e.margin||t<=0}function Qe(n,t){return n.length<=t?n:n.slice(n.length-t)}class Pt{constructor(t,o,r){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=1+Math.floor(Math.random()*360),this.rotateCount=2+Math.floor(Math.random()*5),this.alpha=.3,this.delFlg=!1,this.color=r,this.posHistory=[],this.decAlphaP=.001,this.historyNum=3}move(){if(this.decAlphaP+=4e-4,this.alpha=Math.max(0,this.alpha-this.decAlphaP),this.posHistory.push(this.pos),this.posHistory=Qe(this.posHistory,this.historyNum),Math.floor(Math.random()*20)===0){const t=new Pt(this.pos.x,this.pos.y,e.penColor);t.alpha=this.alpha,t.d=this.d+(Math.floor(Math.random()*120)-60),e.effects.push(t)}this.pos=U(this.pos,this.spd,this.d),this.rotateCount-=1,this.rotateCount<=0&&(this.rotateCount=2+Math.floor(Math.random()*2),this.d+=Math.floor(Math.random()*80)-40),j(this.pos,this.alpha)&&this.delete()}render(){Ke(this.posHistory,this.color,this.alpha,this.alpha*8)}delete(){this.delFlg=!0}}class Zs{constructor(t,o,r,i){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=i,this.alpha=.2,this.delFlg=!1,this.color=r}move(){this.pos=U(this.pos,this.spd,this.d),this.spd+=.2,this.alpha=Math.max(0,this.alpha-.01),j(this.pos,this.alpha)&&this.delete()}render(){const t=this.pos.x,o=this.pos.y,r=e.penSize/2,i={x:Math.floor(Math.random()*e.penSize)-r+t,y:Math.floor(Math.random()*e.penSize)-r+o},a={x:Math.floor(Math.random()*e.penSize)-r+t,y:Math.floor(Math.random()*e.penSize)-r+o},c={x:Math.floor(Math.random()*e.penSize)-r+t,y:Math.floor(Math.random()*e.penSize)-r+o};js(i,a,c,this.color,this.alpha)}delete(){this.delFlg=!0}}class ls{constructor(t,o,r,i,a){this.pos={x:t,y:o},this.color=r,this.alpha=.4;const c=Number.isFinite(a==null?void 0:a.lineWidth)?Number(a==null?void 0:a.lineWidth):1;this.size=Math.max(.1,Math.min(10,c));const h=(a==null?void 0:a.direction)===-1?-1:1,m=Number.isFinite(a==null?void 0:a.speed)?Number(a==null?void 0:a.speed):1;this.stepSize=Math.max(.2,Math.min(4,m)),this.narutoList=Js(e.penSize,i*h),this.delFlg=!1,this.cursor=0}move(){this.cursor+=this.stepSize,Math.floor(this.cursor)+1>=this.narutoList.length&&this.delete()}render(){const t=Math.floor(this.cursor);if(t+1>=this.narutoList.length){this.delete();return}const o={x:this.pos.x+this.narutoList[t].x,y:this.pos.y+this.narutoList[t].y},r={x:this.pos.x+this.narutoList[t+1].x,y:this.pos.y+this.narutoList[t+1].y};W(o,r,this.color,this.alpha,this.size)}delete(){this.delFlg=!0}}class en extends ls{constructor(t,o,r){var h,m,p;const i=((h=e.penCustomParams.hoshi_pen)==null?void 0:h.reverse_rotation)===!0,a=Number((m=e.penCustomParams.hoshi_pen)==null?void 0:m.rotation_speed),c=Number((p=e.penCustomParams.hoshi_pen)==null?void 0:p.line_width);super(t,o,r,10,{direction:i?-1:1,speed:Number.isFinite(a)?a:1,lineWidth:Number.isFinite(c)?c:1})}}class tn extends ls{constructor(t,o,r){var c,h;const i=((c=e.penCustomParams.hane_pen)==null?void 0:c.reverse_rotation)===!0,a=Number((h=e.penCustomParams.hane_pen)==null?void 0:h.rotation_speed);super(t,o,r,1e5,{direction:i?-1:1,speed:Number.isFinite(a)?a:1})}}class sn{constructor(t,o){this.pos={x:t,y:o},this.size=e.penSize,this.alpha=.6,this.delFlg=!1,this.c=0,this.od=e.count%360}move(){this.c+=1,this.alpha-=.01;const t=Math.sin(q(e.count%60*6))*93+this.od;this.pos=U(this.pos,e.penSize/10,t),(j(this.pos,this.alpha)||this.c>3600)&&this.delete()}render(){const t=Math.sin(q(e.count%60*6))*93+this.od,o=this.pos,r=U(this.pos,this.size/2,(t+180)%360),i=U(this.pos,this.size,(t+180)%360-Math.floor(Math.random()*20)),a=U(this.pos,this.size,(t+180)%360+Math.floor(Math.random()*20));W(o,r,e.penColor,this.alpha,.2),W(o,i,e.penColor,this.alpha,.2),W(o,a,e.penColor,this.alpha,.2)}delete(){this.delFlg=!0}}const be=class be{constructor(t,o,r){this.pos={x:t,y:o},this.spd=e.penSize/10,this.d=Qt([0,90,180,270]),this.alpha=.3,this.delFlg=!1,this.color=r,this.posHistory=[],this.decAlphaP=.001,this.historyNum=3,this.lastTurnNodeKey=null}wrappedModDistance(t,o){const r=(t%o+o)%o;return Math.min(r,o-r)}getTurnNodeKey(){const t=Math.max(.8,this.spd*.52),o=be.TURN_GRID,r=this.wrappedModDistance(this.pos.x,o)<=t,i=this.wrappedModDistance(this.pos.y,o)<=t;if(!r||!i)return null;const a=Math.round(this.pos.x/o),c=Math.round(this.pos.y/o);return`${a},${c}`}move(){if(this.decAlphaP+=4e-4,this.alpha=Math.max(0,this.alpha-this.decAlphaP),this.posHistory.push(this.pos),this.posHistory=Qe(this.posHistory,this.historyNum),Math.floor(Math.random()*20)===0){const o=new be(this.pos.x,this.pos.y,e.penColor);o.alpha=this.alpha,o.d=Qt([0,90,180,270]),e.effects.push(o)}this.pos=U(this.pos,this.spd,this.d);const t=this.getTurnNodeKey();if(!t)this.lastTurnNodeKey=null;else if(t!==this.lastTurnNodeKey){const[o,r]=t.split(","),i=Number(o),a=Number(r),c=(i+a)%2===0?90:-90;this.d+=c,this.lastTurnNodeKey=t}j(this.pos,this.alpha)&&this.delete()}render(){Ke(this.posHistory,this.color,this.alpha,1)}delete(){this.delFlg=!0}};be.TURN_GRID=28;let St=be;class kt{constructor(t,o,r){this.center={x:t,y:o},this.pos={x:t,y:o},this.posHistory=[],this.alpha=.32,this.delFlg=!1,this.color=r,this.baseRadius=Math.max(8,e.penSize*(.45+Math.random()*.85)),this.radius=this.baseRadius,this.radiusWave=.12+Math.random()*.24,this.angle=Math.random()*Math.PI*2,this.angleVelocity=.07+Math.random()*.22,this.centerDriftX=(Math.random()-.5)*.34,this.centerDriftY=(Math.random()-.5)*.34,this.age=0,this.maxAge=Math.max(42,Math.min(150,Math.floor(e.penSize*(1.1+Math.random()*.7))))}move(){if(this.age+=1,this.alpha=Math.max(0,this.alpha-.0046),this.angle+=this.angleVelocity,this.radius=this.baseRadius*(.9+.16*Math.sin(this.age*this.radiusWave)),this.center.x+=this.centerDriftX+(Math.random()-.5)*.12,this.center.y+=this.centerDriftY+(Math.random()-.5)*.12,this.pos.x=this.center.x+Math.cos(this.angle)*this.radius,this.pos.y=this.center.y+Math.sin(this.angle)*this.radius,this.posHistory.push({x:this.pos.x,y:this.pos.y}),this.posHistory=Qe(this.posHistory,18),Math.floor(Math.random()*40)===0&&this.alpha>.12){const t=new kt(this.pos.x,this.pos.y,this.color);t.alpha=this.alpha*.52,t.baseRadius=this.baseRadius*(.3+Math.random()*.28),t.radius=t.baseRadius,t.centerDriftX*=.45,t.centerDriftY*=.45,t.maxAge=Math.max(18,Math.floor(this.maxAge*.38)),e.effects.push(t)}(this.age>this.maxAge||j(this.pos,this.alpha))&&this.delete()}render(){this.posHistory.length>=2&&Ke(this.posHistory,this.color,this.alpha*.64,Math.max(.35,e.penSize/56)),rs(this.pos.x,this.pos.y,this.color,Math.min(.72,this.alpha)),je(this.pos.x,this.pos.y,Math.max(1.2,e.penSize/24),this.color,.2,1)}delete(){this.delFlg=!0}}class nn{constructor(t,o,r){this.pos={x:t,y:o},this.d=Math.floor(Math.random()*360),this.spd=Math.max(1.2,e.penSize/8),this.alpha=.26,this.delFlg=!1,this.color=r,this.life=90+Math.floor(Math.random()*70),this.pulsePhase=Math.random()*Math.PI*2,this.posHistory=[]}move(){this.life-=1,this.alpha*=.989,this.pulsePhase+=.35,this.posHistory.push({x:this.pos.x,y:this.pos.y}),this.posHistory=Qe(this.posHistory,10);const t=Math.sin(this.pulsePhase)*28;this.pos=U(this.pos,this.spd,this.d+t),(this.life<=0||j(this.pos,this.alpha))&&this.delete()}render(){const t=(Math.sin(this.pulsePhase)+1)/2,o=Math.max(1.2,e.penSize/7*(.45+t*.4)),r=Math.max(7,e.penSize*(.55+t*.8)),i=this.alpha*(.24+t*.36),a=Math.min(.24,this.alpha*(.5+t*.5));if(Ke(this.posHistory,this.color,i,.9+t*1.4),this.drawGlow(this.pos.x,this.pos.y,o,a*.9),this.drawGlow(this.pos.x,this.pos.y,r*.45,a*.46),this.drawGlow(this.pos.x,this.pos.y,r,a*.2),t>.86){const c=Math.cos(q(this.d+90))*o,h=Math.sin(q(this.d+90))*o;this.drawGlow(this.pos.x+c,this.pos.y+h,o*.85,a*.34),this.drawGlow(this.pos.x-c,this.pos.y-h,o*.85,a*.34)}a<.01&&this.delete()}drawGlow(t,o,r,i){const a=D(),c=a.createRadialGradient(t,o,0,t,o,r);c.addColorStop(0,I(this.color,i)),c.addColorStop(.55,I(this.color,i*.35)),c.addColorStop(1,"rgba(0, 0, 0, 0)"),a.fillStyle=c,a.beginPath(),a.arc(t,o,r,0,Math.PI*2,!1),a.fill()}delete(){this.delFlg=!0}}class Et{constructor(t,o,r,i=0){this.center={x:t,y:o},this.pos={x:t,y:o},this.prevPos={x:t,y:o},this.alpha=.3-i*.08,this.delFlg=!1,this.color=r,this.age=0,this.maxAge=Math.max(28,Math.floor(e.penSize*(.85+Math.random()*1.15))),this.phase=Math.random()*Math.PI*2,this.phaseSpeed=.05+Math.random()*.07,this.orbitScale=Math.max(6,e.penSize*(.3+Math.random()*1.2)),this.driftX=(Math.random()-.5)*.75,this.driftY=(Math.random()-.5)*.75,this.branchChance=.007-i*.003,this.branchDepth=i,this.hasBranched=!1}move(){this.age+=1,this.phase+=this.phaseSpeed,this.alpha*=.988,this.center.x+=this.driftX*.22+(Math.random()-.5)*.12,this.center.y+=this.driftY*.22+(Math.random()-.5)*.12;const t=Math.sin(this.phase*2)+Math.sin(this.phase*3.2)*.55,o=Math.cos(this.phase*2.8)+Math.cos(this.phase*4.4)*.45;if(this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y,this.pos.x=this.center.x+t*this.orbitScale,this.pos.y=this.center.y+o*this.orbitScale,!this.hasBranched&&this.branchDepth<1&&this.alpha>.12&&this.age>10&&Math.random()<Math.max(0,this.branchChance)){const r=new Et(this.pos.x,this.pos.y,this.color,this.branchDepth+1);r.orbitScale=this.orbitScale*(.58+Math.random()*.2),r.phase=this.phase+Math.random()*Math.PI,r.maxAge=Math.max(16,Math.floor(this.maxAge*(.52+Math.random()*.12))),r.alpha=this.alpha*.66,e.effects.push(r),this.hasBranched=!0}(this.age>this.maxAge||j(this.pos,this.alpha))&&this.delete()}render(){const t=1-this.age/this.maxAge,o=this.alpha*(.3+t*.5),r=Math.min(.28,this.alpha*.9),i=Math.max(.36,e.penSize/66)*(1+t*.7),a=Math.max(1.1,e.penSize/20),c=Math.max(8,e.penSize*.95)*(.55+t*.6);W(this.prevPos,this.pos,this.color,o,i),this.drawGlow(this.pos.x,this.pos.y,a,r*.7),this.drawGlow(this.pos.x,this.pos.y,c*.45,r*.42),this.drawGlow(this.pos.x,this.pos.y,c,r*.18),r<.01&&this.delete()}drawGlow(t,o,r,i){const a=D(),c=a.createRadialGradient(t,o,0,t,o,r);c.addColorStop(0,I(this.color,i)),c.addColorStop(.5,I(this.color,i*.34)),c.addColorStop(1,"rgba(0, 0, 0, 0)"),a.fillStyle=c,a.beginPath(),a.arc(t,o,r,0,Math.PI*2,!1),a.fill()}delete(){this.delFlg=!0}}class on{constructor(t,o,r){var m,p;this.color=r,this.cellSize=Math.max(2,Math.floor(e.penSize/24)+1),this.gridSize=Math.max(16,Math.min(128,Math.floor(e.penSize*2))),this.alpha=.75,this.delFlg=!1,this.age=0,this.generation=0;const i=Number((m=e.penCustomParams.life_pen)==null?void 0:m.max_generations);this.maxGenerations=Number.isFinite(i)?Math.max(8,Math.min(500,Math.round(i))):Math.max(36,Math.min(140,this.gridSize*2.5));const a=this.gridSize*this.gridSize;this.liveCells=new Uint8Array(a),this.nextCells=new Uint8Array(a),this.cellAges=new Uint16Array(a);const c=this.gridSize*this.cellSize/2,h=((p=e.penCustomParams.life_pen)==null?void 0:p.snap_to_grid)===!0;this.originX=h?Math.floor((t-c)/this.cellSize)*this.cellSize:t-c,this.originY=h?Math.floor((o-c)/this.cellSize)*this.cellSize:o-c,this.seedCells()}seedCells(){const t=(this.gridSize-1)/2,r=Math.min(20,this.gridSize)/2,i=t-r,a=t+r,c=Math.max(1,r);for(let h=0;h<this.gridSize;h+=1)for(let m=0;m<this.gridSize;m+=1){if(m<i||m>a||h<i||h>a)continue;const p=m-t,b=h-t,g=Math.sqrt(p*p+b*b)/c,v=.18+Math.max(0,1-g)*.3,x=h*this.gridSize+m;this.liveCells[x]=Math.random()<v?1:0}}countNeighbors(t,o){let r=0;for(let i=-1;i<=1;i+=1)for(let a=-1;a<=1;a+=1){if(a===0&&i===0)continue;const c=t+a,h=o+i;c<0||h<0||c>=this.gridSize||h>=this.gridSize||(r+=this.liveCells[h*this.gridSize+c])}return r}step(){let t=0;for(let r=0;r<this.gridSize;r+=1)for(let i=0;i<this.gridSize;i+=1){const a=r*this.gridSize+i,c=this.liveCells[a]===1,h=this.countNeighbors(i,r),m=c&&h===2||h===3;this.nextCells[a]=m?1:0,m?(this.cellAges[a]=c?this.cellAges[a]+1:1,t+=1):this.cellAges[a]=0}const o=this.liveCells;return this.liveCells=this.nextCells,this.nextCells=o,this.generation+=1,t}move(){this.age+=1;const t=this.step();this.alpha*=.994,(t===0||this.generation>=this.maxGenerations||this.alpha<.05)&&this.delete()}render(){var r;const t=D(),o=((r=e.penCustomParams.life_pen)==null?void 0:r.circle_cells)===!0;for(let i=0;i<this.gridSize;i+=1)for(let a=0;a<this.gridSize;a+=1){const c=i*this.gridSize+a;if(this.liveCells[c]!==1)continue;const h=Math.min(1,.45+this.cellAges[c]*.08),m=this.alpha*h,p=this.originX+a*this.cellSize,b=this.originY+i*this.cellSize;if(o){const g=p+this.cellSize/2,S=b+this.cellSize/2,v=Math.max(1,this.cellSize*.75),x=t.createRadialGradient(g,S,.5,g,S,v);x.addColorStop(.2,I(this.color,m)),x.addColorStop(1,"rgba(0, 0, 0, 0)"),t.fillStyle=x,t.beginPath(),t.arc(g,S,v,0,Math.PI*2,!1),t.fill();continue}t.fillStyle=I(this.color,m),t.fillRect(p,b,Math.max(1,this.cellSize-1),Math.max(1,this.cellSize-1))}}delete(){this.delFlg=!0}}const B=class B{static getRemainingCapacity(){return Math.max(0,B.MAX_ACTIVE-B.activeCount)}constructor(t,o,r,i,a,c={}){const h=Math.random()*Math.PI*2,m=i*Math.sqrt(Math.random()),p=t+Math.cos(h)*m,b=o+Math.sin(h)*m,g=q(a),S=Math.cos(g),v=Math.sin(g),x=-v,N=S,F=.5+Math.random()*1.2,C=(Math.random()-.5)*1.2;this.pos={x:p,y:b},this.prevPos={x:p,y:b},this.color=r,this.alpha=.38,this.delFlg=!1,this.released=!1,this.size=Math.max(1.6,e.penSize/24+Math.random()*1.8),this.velocityX=S*F+x*C,this.velocityY=v*F+N*C,this.gravityX=S,this.gravityY=v,this.tangentX=x,this.tangentY=N,this.gravityAccel=.08+e.penSize/520,this.drag=.987,this.fallDistance=0,this.bounceDistance=Math.max(20,i*(.9+Math.random()*1.4)),this.bounceCount=0,this.maxBounces=0,this.age=0;const R=Number(c.lifetime);this.maxAge=Number.isFinite(R)?Math.max(30,Math.min(600,Math.round(R))):Math.max(90,Math.min(320,Math.round(e.penSize*2.8))),B.activeCount+=1}move(){this.age+=1,this.prevPos={x:this.pos.x,y:this.pos.y},this.velocityX+=this.gravityX*this.gravityAccel,this.velocityY+=this.gravityY*this.gravityAccel,this.velocityX*=this.drag,this.velocityY*=this.drag,this.pos.x+=this.velocityX,this.pos.y+=this.velocityY;const t=this.pos.x-this.prevPos.x,o=this.pos.y-this.prevPos.y,r=t*this.gravityX+o*this.gravityY;r>0&&(this.fallDistance+=r),this.bounceCount<this.maxBounces&&this.fallDistance>=this.bounceDistance&&this.bounce(),this.alpha-=this.bounceCount>0?.0072:.0034,(this.age>=this.maxAge||j(this.pos,this.alpha))&&this.delete()}bounce(){const t=this.velocityX*this.gravityX+this.velocityY*this.gravityY,o=this.velocityX*this.tangentX+this.velocityY*this.tangentY,r=-Math.max(.72,Math.abs(t)*.55),i=o*(.62+Math.random()*.12);this.velocityX=this.gravityX*r+this.tangentX*i+(Math.random()-.5)*.1,this.velocityY=this.gravityY*r+this.tangentY*i+(Math.random()-.5)*.1,this.fallDistance=0,this.bounceDistance*=1.55+Math.random()*.35,this.size*=.93,this.alpha*=.9,this.bounceCount+=1}render(){const t=this.age<20?1:this.age<this.maxAge*.5?2:3;this.age%t===0&&(W(this.prevPos,this.pos,this.color,Math.min(.4,this.alpha*.7),Math.max(.35,this.size*.35)),je(this.pos.x,this.pos.y,this.size,this.color,.14,1))}delete(){this.released||(this.released=!0,B.activeCount=Math.max(0,B.activeCount-1),this.delFlg=!0)}};B.MAX_ACTIVE=900,B.activeCount=0;let re=B;class an{draw(t,o){e.effects.push(new Pt(t,o,e.penColor))}}class rn{draw(t,o){for(let r=0;r<e.penSize;r+=1){const i=Ue(t,e.penSize/2),a=Ue(o,e.penSize/2);je(i,a,Math.random()*(e.penSize/10),e.penColor,1,.1)}}}class ln{constructor(){this.previousPoint=null}draw(t,o){var v,x,N;const r=Math.max(4,e.penSize*3);if(re.getRemainingCapacity()<=0)return;const i=Number((v=e.penCustomParams.amedrop_pen)==null?void 0:v.spawn_count),a=Number.isFinite(i)?Math.max(1,Math.min(5,Math.round(i))):1,c=Number((x=e.penCustomParams.amedrop_pen)==null?void 0:x.gravity_direction),h=Number((N=e.penCustomParams.amedrop_pen)==null?void 0:N.lifetime),m=Number.isFinite(c)?(c%360+360)%360:90,p=Number.isFinite(h)?Math.max(30,Math.min(600,Math.round(h))):180,b=(F,C)=>{const R=Math.min(a,re.getRemainingCapacity());for(let H=0;H<R;H+=1)e.effects.push(new re(F,C,e.penColor,r,m,{lifetime:p}))},g=e.isDown&&!e.isSymmetryMode,S=g&&!e.didDrawInStroke;if((!g||S)&&(this.previousPoint=null),g&&this.previousPoint){const F=t-this.previousPoint.x,C=o-this.previousPoint.y,R=Math.hypot(F,C),H=Math.max(.8,Math.min(6,r*.18)),le=Math.min(4,R*.12),ce=Math.max(.8,Math.min(10,H+le)),we=Math.max(1,Math.ceil(R/ce));for(let K=1;K<=we&&!(re.getRemainingCapacity()<=0);K+=1){const Se=K/we;b(this.previousPoint.x+F*Se,this.previousPoint.y+C*Se)}}else b(t,o);this.previousPoint=g?{x:t,y:o}:null}}class cn{draw(t,o){e.effects.push(new St(t,o,e.penColor))}}class hn{draw(t,o){if(!Number.isFinite(t)||!Number.isFinite(o))return;const r=e.penSize*.04,i=t+(Math.random()-.5)*r,a=o+(Math.random()-.5)*r;e.effects.push(new Et(i,a,e.penColor))}}class dn{draw(t,o){var S,v,x;const r=Number((S=e.penCustomParams.fur_pen)==null?void 0:S.line_count),i=Number((v=e.penCustomParams.fur_pen)==null?void 0:v.scatter_radius),a=Number((x=e.penCustomParams.fur_pen)==null?void 0:x.line_width),c=Number.isFinite(r)?Math.max(20,Math.min(320,Math.round(r))):120,h=Number.isFinite(i)?Math.max(2,Math.min(60,i)):10,m=80,p=3,b=Number.isFinite(a)?Math.max(.05,Math.min(2,a)):.1,g=h*2;for(let N=0;N<c;N+=1){const F=t+Math.floor(Math.random()*g)-h,C=o+Math.floor(Math.random()*g)-h,R=t+Math.cos(q(N*p))*e.penSize*Math.random(),H=o+Math.sin(q(N*p))*e.penSize*Math.random();W({x:F,y:C},{x:R,y:H},e.penColor,m,b)}}}class mn{draw(t,o){e.effects.push(new tn(t,o,e.penColor))}}class un{draw(t,o){e.effects.push(new en(t,o,e.penColor))}}class pn{draw(t,o){e.effects.push(new on(t,o,e.penColor))}}class yn{draw(t,o){e.effects.push(new sn(t,o))}}class fn{draw(t,o){je(t,o,e.penSize,e.penColor,.1,1)}}class gn{draw(t,o){if(!Number.isFinite(t)||!Number.isFinite(o))return;const r=1;for(let i=0;i<r;i+=1)e.effects.push(new kt(t,o,e.penColor))}}class Mn{draw(t,o){e.effects.push(new nn(t,o,e.penColor))}}class bn{draw(t,o){for(let r=0;r<10;r+=1){const i=(e.count+r*36)%360;e.effects.push(new Zs(t,o,e.penColor,i))}}}class wn{draw(t,o){for(let r=0;r<e.penSize*20;r+=1){const i=Ue(t,e.penSize/2),a=Ue(o,e.penSize/2);rs(i,a,e.penColor,.6)}}}const Tt=[{value:"normal_pen",icon:"光",name:"ひかりのくれよん",create:()=>new fn},{value:"blood_pen",icon:"血",name:"けっかんぺんしる",create:()=>new an},{value:"fur_pen",icon:"毛",name:"ふぁーえんぴつ",create:()=>new dn},{value:"snow_pen",icon:"雪",name:"ゆきぱすてる",create:()=>new bn},{value:"hoshi_pen",icon:"星",name:"ほしわいやー",create:()=>new un},{value:"life_pen",icon:"生",name:"らいふげーむぺん",create:()=>new pn},{value:"hane_pen",icon:"羽",name:"はねぺん",create:()=>new mn},{value:"nami_pen",icon:"波",name:"なみふで",create:()=>new yn},{value:"spray_pen",icon:"霧",name:"すぷれーかん",create:()=>new wn},{value:"bubble_pen",icon:"泡",name:"あわすぷれー",create:()=>new rn},{value:"orbit_pen",icon:"彗",name:"おーびっとぺん",create:()=>new gn},{value:"fractal_bloom_pen",icon:"渦",name:"ふらくたるぶるーむ",create:()=>new hn},{value:"degi_pen",icon:"電",name:"でじたるぺん",create:()=>new cn},{value:"shinmyaku_pen",icon:"脈",name:"しんみゃくぺん",create:()=>new Mn},{value:"amedrop_pen",icon:"雨",name:"あめどろっぷ",create:()=>new ln}];function Sn(){return Tt.reduce((n,t)=>(n[t.value]=t.create(),n),{})}var ns;const Jt=((ns=Tt[0])==null?void 0:ns.value)??"normal_pen",xn=Ct(200,200,200),cs="http://www.w3.org/2000/svg";function vn(n){const t=document.createElementNS(cs,"path");return t.setAttribute("d",n),t}function Cn(n,t){const o=document.createElementNS(cs,"svg"),r=vn(n);o.setAttribute("width","1"),o.setAttribute("height","1"),o.style.position="fixed",o.style.left="-9999px",o.style.top="-9999px",o.style.width="1px",o.style.height="1px",o.style.opacity="0",o.style.pointerEvents="none",o.appendChild(r),document.body.appendChild(o);try{return t(r)}finally{o.remove()}}function hs(n){const t=document.createElement("textarea");return t.innerHTML=n,t.value}function _n(n){var t;try{const i=new DOMParser().parseFromString(n,"image/svg+xml").querySelector("path"),a=(t=i==null?void 0:i.getAttribute("d"))==null?void 0:t.trim();if(a)return a}catch{return null}return null}function Pn(n){const t=n.trim();if(!t)return"";if(!/[<>]/.test(t)&&!/\bd\s*=/.test(t))return t;const o=_n(t);if(o)return o;const r=t.match(/\bd\s*=\s*(['"])([\s\S]*?)\1/i);return r!=null&&r[2]?hs(r[2].trim()):t}function kn(n){const t=n.trim();if(!t)return[];if(!/[<>]/.test(t)&&!/\bd\s*=/.test(t))return[t];try{const c=new DOMParser().parseFromString(t,"image/svg+xml"),h=Array.from(c.querySelectorAll("path[d]")).map(m=>{var p;return((p=m.getAttribute("d"))==null?void 0:p.trim())??""}).filter(m=>m.length>0);if(h.length>0)return h}catch{}const r=Array.from(t.matchAll(/\bd\s*=\s*(['"])([\s\S]*?)\1/gi)).map(a=>hs((a[2]??"").trim())).filter(a=>a.length>0);if(r.length>0)return r;const i=Pn(t);return i?[i]:[]}function ds(n,t){const o=n.trim();if(!o)throw new Error("SVG path が空です。");return Cn(o,r=>{const i=r.getTotalLength();if(!Number.isFinite(i)||i<=0)throw new Error("SVG path の長さを取得できませんでした。");const a=Math.max(.5,t),c=[];for(let m=0;m<i;m+=a){const p=r.getPointAtLength(m);c.push({x:p.x,y:p.y})}const h=r.getPointAtLength(i);return c.push({x:h.x,y:h.y}),c})}function ms(n,t,o,r){if(n.length===0)return n;const i=Math.min(...n.map(C=>C.x)),a=Math.max(...n.map(C=>C.x)),c=Math.min(...n.map(C=>C.y)),h=Math.max(...n.map(C=>C.y)),m=Math.max(1,a-i),p=Math.max(1,h-c),b=Math.max(1,t-r*2),g=Math.max(1,o-r*2),S=Math.max(.01,Math.min(b/m,g/p)),v=(i+a)/2,x=(c+h)/2,N=t/2,F=o/2;return n.map(C=>({x:(C.x-v)*S+N,y:(C.y-x)*S+F}))}const Zt=50;function En(){return D().getImageData(0,0,e.width,e.height)}function us(n){D().putImageData(n,0,0)}function ps(){e.historyStack=[],e.historyIndex=-1,e.didDrawInStroke=!1}function zt(){const n=En();if(e.historyIndex<e.historyStack.length-1&&(e.historyStack=e.historyStack.slice(0,e.historyIndex+1)),e.historyStack.push(n),e.historyStack.length>Zt){const t=e.historyStack.length-Zt;e.historyStack=e.historyStack.slice(t)}e.historyIndex=e.historyStack.length-1}function ys(){return e.historyIndex>0}function fs(){return e.historyIndex>=0&&e.historyIndex<e.historyStack.length-1}function Tn(){return ys()?(e.historyIndex-=1,us(e.historyStack[e.historyIndex]),!0):!1}function zn(){return fs()?(e.historyIndex+=1,us(e.historyStack[e.historyIndex]),!0):!1}const gs="hikari-no-crayon:settings:v1",w={pen:"normal_pen",size:64,colorHex:$e({r:86,g:177,b:255}),rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!0,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50,recordPreset:"standard",recordSeconds:10,recordFps:60,recordResolution:"source",recordQuality:"auto",penCustomParams:vt()};function Ln(){try{const n=localStorage.getItem(gs);if(!n)return{...w};const t=JSON.parse(n);return{...w,...t,size:Number(t.size??w.size),rainbowSaturation:Number(t.rainbowSaturation??w.rainbowSaturation),rainbowBrightness:Number(t.rainbowBrightness??w.rainbowBrightness),yamiStrength:Number(t.yamiStrength??w.yamiStrength),symmetryCount:Number(t.symmetryCount??w.symmetryCount),symmetryOriginX:Number(t.symmetryOriginX??w.symmetryOriginX),symmetryOriginY:Number(t.symmetryOriginY??w.symmetryOriginY),colorHex:typeof t.colorHex=="string"?t.colorHex:w.colorHex,recordPreset:typeof t.recordPreset=="string"?t.recordPreset:w.recordPreset,recordSeconds:Number(t.recordSeconds??w.recordSeconds),recordFps:Number(t.recordFps??w.recordFps),recordResolution:typeof t.recordResolution=="string"?t.recordResolution:w.recordResolution,recordQuality:typeof t.recordQuality=="string"?t.recordQuality:w.recordQuality,penCustomParams:os(t.penCustomParams),symmetryType:t.symmetryType==="mirror"||t.symmetryType==="rotate"?t.symmetryType:w.symmetryType}}catch{return{...w}}}function es(n){localStorage.setItem(gs,JSON.stringify(n))}function On(n){return as(n)}function Nn(n,t){const o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),o.remove()}function Fn(n){const t=Math.max(1,Math.min(8,Math.floor(n.scale))),o=Ge(),r=document.createElement("canvas");r.width=e.width*t,r.height=e.height*t;const i=r.getContext("2d");if(!i)return;i.imageSmoothingEnabled=!0,i.drawImage(o,0,0,r.width,r.height);const a=new Date().toISOString().replace(/[:.]/g,"-");Nn(r.toDataURL("image/png"),`hikari-no-crayon-${a}.png`)}function Rn(){return{canvas:e.canvas,c:e.c,width:e.width,height:e.height,penSize:e.penSize,penColor:e.penColor,penTool:e.penTool,selectedPenName:e.selectedPenName,effects:e.effects,count:e.count,isRainbowMode:e.isRainbowMode,rainbowSaturation:e.rainbowSaturation,rainbowBrightness:e.rainbowBrightness,isFadeMode:e.isFadeMode,isAutoMode:e.isAutoMode,isYamiMode:e.isYamiMode,yamiStrength:e.yamiStrength,isSymmetryMode:e.isSymmetryMode,symmetryType:e.symmetryType,symmetryCount:e.symmetryCount,symmetryOriginX:e.symmetryOriginX,symmetryOriginY:e.symmetryOriginY,margin:e.margin,penCustomParams:e.penCustomParams}}function An(n){e.canvas=n.canvas,e.c=n.c,e.width=n.width,e.height=n.height,e.penSize=n.penSize,e.penColor=n.penColor,e.penTool=n.penTool,e.selectedPenName=n.selectedPenName,e.effects=n.effects,e.count=n.count,e.isRainbowMode=n.isRainbowMode,e.rainbowSaturation=n.rainbowSaturation,e.rainbowBrightness=n.rainbowBrightness,e.isFadeMode=n.isFadeMode,e.isAutoMode=n.isAutoMode,e.isYamiMode=n.isYamiMode,e.yamiStrength=n.yamiStrength,e.isSymmetryMode=n.isSymmetryMode,e.symmetryType=n.symmetryType,e.symmetryCount=n.symmetryCount,e.symmetryOriginX=n.symmetryOriginX,e.symmetryOriginY=n.symmetryOriginY,e.margin=n.margin,e.penCustomParams=n.penCustomParams}const E=80,In=800,ts=200,Yn="M 10,90 C 30,10 70,10 50,50 C 30,90 70,90 90,10";let wt=null;function Dn(){if(!wt){const n=ds(Yn,2);wt=ms(n,E,E,8)}return wt}function Hn(n,t){const o=Rn();try{const r=E/In;if(e.canvas=t.canvas,e.c=t.ctx,e.width=E,e.height=E,e.penSize=Math.max(1,n.size*r),e.penColor=as(n.colorHex),e.penTool=e.penTools[n.pen]??null,e.selectedPenName=n.pen,e.effects=t.effects,e.count=t.count,e.isRainbowMode=n.rainbowMode,e.rainbowSaturation=n.rainbowSaturation,e.rainbowBrightness=n.rainbowBrightness,e.isFadeMode=n.fadeMode,e.isAutoMode=!0,e.isYamiMode=n.yamiMode,e.yamiStrength=n.yamiStrength,e.isSymmetryMode=n.symmetryMode,e.symmetryType=n.symmetryType,e.symmetryCount=n.symmetryCount,e.symmetryOriginX=n.symmetryOriginX/100,e.symmetryOriginY=n.symmetryOriginY/100,e.margin=Math.max(2,40*r),typeof n.lifeSnapToGrid=="boolean"&&(e.penCustomParams={...o.penCustomParams,life_pen:{...o.penCustomParams.life_pen,snap_to_grid:n.lifeSnapToGrid}}),t.count+=1,e.count=t.count,n.rainbowMode&&(e.penColor=Ct(t.count%60*6,n.rainbowSaturation,n.rainbowBrightness)),n.fadeMode&&(e.c.globalCompositeOperation="source-over",e.c.fillStyle=I({r:0,g:0,b:0},.05),e.c.fillRect(0,0,E,E)),e.c.globalCompositeOperation=We(),e.penTool){let i,a;if(n.autoMode&&t.pathPoints)i=Math.floor(Math.random()*E),a=Math.floor(Math.random()*E);else if(t.pathPoints){const c=t.pathPoints.length,h=Math.floor(t.pathIndex/c),m=t.pathPoints[t.pathIndex%c],p=h*12%E;i=(m.x+p)%E,a=m.y,t.pathIndex+=1}else i=Math.floor(Math.random()*E),a=Math.floor(Math.random()*E);if(!n.symmetryMode)e.penTool.draw(i,a);else{const c=E*(n.symmetryOriginX/100),h=E*(n.symmetryOriginY/100),m=i-c,p=a-h,b=Math.max(1,n.symmetryCount);for(let g=0;g<b;g+=1){const S=Math.PI*2*g/b,v=Math.cos(S),x=Math.sin(S);e.penTool.draw(c+m*v-p*x,h+m*x+p*v),n.symmetryType==="mirror"&&e.penTool.draw(c+m*v+p*x,h+m*x-p*v)}}}t.effects.forEach(i=>{i.move(),i.render()}),t.effects=t.effects.filter(i=>!i.delFlg),t.effects.length>ts&&(t.effects=t.effects.slice(-ts)),e.effects=t.effects}finally{An(o)}}let Me=null,te=null;function Xn(n,t){Ms(),te=new Map;for(const i of n){const a=i.dataset.simplePreset;if(!a||!t[a])continue;let c=i.querySelector("canvas");c||(c=document.createElement("canvas"),c.width=E,c.height=E,i.appendChild(c));const h=c.getContext("2d");if(!h)continue;const m=t[a];h.fillStyle=m.yamiMode?"#ffffff":"#000000",h.fillRect(0,0,E,E),te.set(a,{canvas:c,ctx:h,effects:[],count:0,pathPoints:m.autoMode?null:Dn(),pathIndex:0})}let o=0;function r(){if(o+=1,o%4===0&&te)for(const[i,a]of te){const c=t[i];c&&Hn(c,a)}Me=requestAnimationFrame(r)}Me=requestAnimationFrame(r)}function Ms(){if(Me!==null&&(cancelAnimationFrame(Me),Me=null),te)for(const n of te.values())n.effects=[],n.count=0,n.ctx.clearRect(0,0,E,E);te=null}function u(n){const t=document.getElementById(n);if(!t)throw new Error(`Element not found: #${n}`);return t}function Vn(n,t){const o=Array.from(document.querySelectorAll(`input[name=${n}]`)),r=i=>{var a;o.forEach(c=>{var h;(h=c.closest("label"))==null||h.classList.remove("selected")}),(a=i.closest("label"))==null||a.classList.add("selected"),t(i.value)};return o.forEach(i=>{var a;i.addEventListener("change",()=>{i.checked&&r(i)}),(a=i.closest("label"))==null||a.addEventListener("click",()=>{i.checked||(i.checked=!0,i.dispatchEvent(new Event("change",{bubbles:!0})))})}),{inputs:o,clearSelection:()=>{o.forEach(i=>{var a;i.checked=!1,(a=i.closest("label"))==null||a.classList.remove("selected")})},selectByValue:i=>{const a=o.find(c=>c.value===i);return a?(a.checked=!0,a.dispatchEvent(new Event("change",{bubbles:!0})),!0):!1},highlightByValue:i=>{var c;const a=o.find(h=>h.value===i);return a?(o.forEach(h=>{var m;(m=h.closest("label"))==null||m.classList.remove("selected")}),(c=a.closest("label"))==null||c.classList.add("selected"),!0):!1},dispatchChecked:()=>{const i=o.find(a=>a.checked);i&&i.dispatchEvent(new Event("change",{bubbles:!0}))}}}function ss(n){e.mouse.x=n.pageX,e.mouse.y=n.pageY}const Bn="pen_custom_controls";function qn(){const n=document.getElementById("pl");if(n)for(const t of Tt){if(n.querySelector(`input[name="pen"][value="${t.value}"]`))continue;const r=document.createElement("li"),i=document.createElement("label");i.className="pen_option";const a=document.createElement("input");a.type="radio",a.name="pen",a.value=t.value;const c=document.createElement("span");c.className="pen_icon",c.textContent=t.icon;const h=document.createElement("span");h.className="pen_name",h.textContent=t.name,i.appendChild(a),i.appendChild(c),i.appendChild(h),r.appendChild(i),n.appendChild(r)}}function Gn(){qn();const n=u("dock_show_button"),t=u("simple_settings_button"),o=u("simple_settings_modal"),r=u("simple_settings_close_button"),i=u("dock_hide_button"),a=u("menu"),c=u("bottom_dock"),h=u("dock_size_range"),m=u("size_dock_value"),p=u("pen_dock_value"),b=u("rainbow_dock_value"),g=u("fade_dock_value"),S=u("auto_dock_value"),v=u("yami_dock_value"),x=u("symmetry_dock_value"),N=u("dock_fade_toggle_button"),F=u("dock_auto_toggle_button"),C=u("dock_color_picker"),R=u("undo_button"),H=u("redo_button"),le=u("dock_undo_button"),ce=u("dock_redo_button"),we=u("dock_clear_button"),K=u("rainbow_mode"),Se=u("rainbow_mode_label"),xe=u("rainbow_saturation"),ws=u("rainbow_saturation_value"),ve=u("rainbow_brightness"),Ss=u("rainbow_brightness_value"),Je=u("symmetry_mode"),xs=u("symmetry_mode_label"),he=u("symmetry_hud"),de=u("symmetry_type"),me=u("symmetry_count"),Ce=u("symmetry_origin_x"),_e=u("symmetry_origin_y"),vs=u("symmetry_origin_x_value"),Cs=u("symmetry_origin_y_value"),Lt=u("symmetry_origin_x_reset"),Ot=u("symmetry_origin_y_reset"),Ze=u("yami_mode"),_s=u("yami_mode_label"),Pe=u("yami_strength"),Ps=u("yami_strength_value"),ue=u("record_preset"),se=u("record_seconds"),ke=u("record_fps"),G=u("record_resolution"),Q=u("record_quality"),pe=u("record_button"),ks=u("svg_path_input"),Nt=u("svg_path_step"),Es=u("svg_path_fit"),Ft=u("svg_path_speed"),J=u("svg_path_draw_button"),Ts=u("reset_settings_button"),Rt=u("record_status"),Z=u("record_frame_hud"),zs=u("record_frame_hud_label"),Ee=u(Bn),At=Array.from(document.querySelectorAll(".simple_preset_button"));let et=!0;const Ls=(s,l)=>{const d=e.penCustomParams[s]??{};typeof d!="object"||!d?e.penCustomParams[s]={}:e.penCustomParams[s]=d,l.key in e.penCustomParams[s]||(e.penCustomParams[s][l.key]=l.defaultValue)},It=(s,l)=>{var y;if(!Number.isFinite(s.step)||s.step>=1)return String(Math.round(l));const d=Math.min(4,((y=String(s.step).split(".")[1])==null?void 0:y.length)??2);return l.toFixed(d)},Yt=s=>{Ee.innerHTML="";const l=xt[s]??[];if(l.length===0){const d=document.createElement("p");d.className="pen_custom_empty",d.textContent="このぺんは かすたむせってい なし",Ee.appendChild(d);return}l.forEach(d=>{if(Ls(s,d),d.type==="boolean"){const P=document.createElement("label");P.className="export_label pen_custom_checkbox";const O=document.createElement("span");O.textContent=d.label;const Y=document.createElement("input");Y.type="checkbox",Y.checked=e.penCustomParams[s][d.key]===!0,Y.addEventListener("change",()=>{e.penCustomParams[s][d.key]=Y.checked,_()}),P.appendChild(O),P.appendChild(Y),Ee.appendChild(P);return}const y=document.createElement("label");y.className="range_label";const f=document.createElement("span");f.textContent=d.label;const M=document.createElement("input");M.type="range",M.min=String(d.min),M.max=String(d.max),M.step=String(d.step);const L=Number(e.penCustomParams[s][d.key]),k=Number.isFinite(L)?Math.max(d.min,Math.min(d.max,L)):d.defaultValue;M.value=String(k);const T=document.createElement("strong");T.className="pen_custom_value",T.textContent=It(d,k),M.addEventListener("input",()=>{const P=Number(M.value),O=Number.isFinite(P)?Math.max(d.min,Math.min(d.max,P)):k;e.penCustomParams[s][d.key]=O,T.textContent=It(d,O),_()}),y.appendChild(f),y.appendChild(M),y.appendChild(T),Ee.appendChild(y)})},_=()=>{if(!et)return;const s={pen:e.selectedPenName,size:e.penSize,colorHex:$e(e.penColor),rainbowMode:e.isRainbowMode,rainbowSaturation:e.rainbowSaturation,rainbowBrightness:e.rainbowBrightness,fadeMode:e.isFadeMode,autoMode:e.isAutoMode,yamiMode:e.isYamiMode,yamiStrength:e.yamiStrength,symmetryMode:e.isSymmetryMode,symmetryHud:e.isSymmetryHudVisible,symmetryType:e.symmetryType,symmetryCount:e.symmetryCount,symmetryOriginX:Math.round(e.symmetryOriginX*100),symmetryOriginY:Math.round(e.symmetryOriginY*100),recordPreset:ue.value,recordSeconds:Number(se.value),recordFps:Number(ke.value),recordResolution:G.value,recordQuality:Q.value,penCustomParams:e.penCustomParams};es(s)},tt=(s,l)=>{if(!e.penTool)return;if(!e.isSymmetryMode){e.penTool.draw(s,l);return}const d=e.width*e.symmetryOriginX,y=e.height*e.symmetryOriginY,f=s-d,M=l-y,L=Math.max(1,e.symmetryCount);for(let k=0;k<L;k+=1){const T=Math.PI*2*k/L,P=Math.cos(T),O=Math.sin(T),Y=f*P-M*O,z=f*O+M*P;if(e.penTool.draw(d+Y,y+z),e.symmetryType==="mirror"){const V=f*P+M*O,A=f*O-M*P;e.penTool.draw(d+V,y+A)}}},Te=()=>{const s=ys(),l=fs();R.classList.toggle("is-disabled",!s),H.classList.toggle("is-disabled",!l),R.setAttribute("aria-disabled",String(!s)),H.setAttribute("aria-disabled",String(!l)),le.classList.toggle("is-disabled",!s),ce.classList.toggle("is-disabled",!l),le.setAttribute("aria-disabled",String(!s)),ce.setAttribute("aria-disabled",String(!l))},st=()=>{var l,d,y,f,M;const s=!e.isSymmetryMode;he.disabled=s,de.disabled=s,me.disabled=s,Ce.disabled=s,_e.disabled=s,Lt.disabled=s,Ot.disabled=s,(l=he.closest("label"))==null||l.classList.toggle("is-disabled",s),(d=de.closest("label"))==null||d.classList.toggle("is-disabled",s),(y=me.closest("label"))==null||y.classList.toggle("is-disabled",s),(f=Ce.closest("label"))==null||f.classList.toggle("is-disabled",s),(M=_e.closest("label"))==null||M.classList.toggle("is-disabled",s),xs.textContent=e.isSymmetryMode?"OFFにする":"ONにする"},ze=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));Ce.value=String(l),vs.textContent=`${l}%`,e.symmetryOriginX=l/100,_()},Le=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));_e.value=String(l),Cs.textContent=`${l}%`,e.symmetryOriginY=l/100,_()},nt=s=>{const l=Math.max(0,Math.min(100,Math.round(s)));e.yamiStrength=l,Pe.value=String(l),Ps.textContent=String(l),Oe(),_()},ot=()=>{var l;const s=!e.isYamiMode;Pe.disabled=s,(l=Pe.closest("label"))==null||l.classList.toggle("is-disabled",s),_s.textContent=e.isYamiMode?"OFFにする":"ONにする"},it=()=>{var l,d;const s=!e.isRainbowMode;xe.disabled=s,ve.disabled=s,(l=xe.closest("label"))==null||l.classList.toggle("is-disabled",s),(d=ve.closest("label"))==null||d.classList.toggle("is-disabled",s),Se.textContent=e.isRainbowMode?"OFFにする":"ONにする"},at=s=>{const l=Math.max(0,Math.min(255,Math.round(s)));e.rainbowSaturation=l,xe.value=String(l),ws.textContent=String(l),_()},rt=s=>{const l=Math.max(0,Math.min(255,Math.round(s)));e.rainbowBrightness=l,ve.value=String(l),Ss.textContent=String(l),_()},ye=()=>{b.textContent=e.isRainbowMode?"ON":"OFF",dt==null||dt.classList.toggle("is-on-state",e.isRainbowMode),g.textContent=e.isFadeMode?"ON":"OFF",N.classList.toggle("is-on-state",e.isFadeMode),S.textContent=e.isAutoMode?"ON":"OFF",F.classList.toggle("is-on-state",e.isAutoMode)},Oe=()=>{v.textContent=e.isYamiMode?`ON ${e.yamiStrength}`:"OFF",mt==null||mt.classList.toggle("is-on-state",e.isYamiMode)},fe=()=>{if(!e.isSymmetryMode){x.textContent="OFF",ne==null||ne.classList.remove("is-on-state");return}const s=e.symmetryType==="mirror"?"M":"R";x.textContent=`${s}${e.symmetryCount}`,ne==null||ne.classList.add("is-on-state")},Ne=()=>{zt(),Te()},lt=s=>{e.penSize=Math.max(3,Math.min(300,s)),h.value=String(e.penSize),m.textContent=`${e.penSize}px`,_()},ct=s=>{e.penColor=On(s);const l=$e(e.penColor);C.value=l,_()},Os=()=>{if(!e.isRainbowMode)return;const s=$e(e.penColor);C.value!==s&&(C.value=s)},Dt={nijiiro:{pen:"normal_pen",size:70,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},mangekyo:{pen:"snow_pen",size:45,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:160,rainbowBrightness:100,fadeMode:!0,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!0,symmetryHud:!0,symmetryType:"rotate",symmetryCount:8,symmetryOriginX:50,symmetryOriginY:50},lifegame:{pen:"life_pen",size:112,colorHex:"#56b1ff",rainbowMode:!0,rainbowSaturation:160,rainbowBrightness:60,fadeMode:!0,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50,lifeSnapToGrid:!1},futsu:{pen:"normal_pen",size:45,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},bukimi:{pen:"blood_pen",size:45,colorHex:"#ff3b4f",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!0,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},hane:{pen:"hane_pen",size:70,colorHex:"#0f172f",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!1,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},yamispray:{pen:"spray_pen",size:98,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!0,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50},yamikeshi:{pen:"normal_pen",size:80,colorHex:"#56b1ff",rainbowMode:!1,rainbowSaturation:200,rainbowBrightness:200,fadeMode:!1,autoMode:!1,yamiMode:!0,yamiStrength:100,symmetryMode:!1,symmetryHud:!1,symmetryType:"rotate",symmetryCount:4,symmetryOriginX:50,symmetryOriginY:50}},Ns=s=>s==="nijiiro"||s==="mangekyo"||s==="lifegame"||s==="futsu"||s==="bukimi"||s==="hane"||s==="yamispray"||s==="yamikeshi",Fe=()=>{o.classList.remove("is-open"),o.setAttribute("aria-hidden","true"),Ms()},Fs=()=>{o.classList.add("is-open"),o.setAttribute("aria-hidden","false"),Xn(At,Dt)},Rs=s=>{const l=Dt[s];if(l){if(Ie.selectByValue(l.pen)||Ie.selectByValue(w.pen),lt(l.size),ct(l.colorHex),K.checked=l.rainbowMode,e.isRainbowMode=l.rainbowMode,at(l.rainbowSaturation),rt(l.rainbowBrightness),it(),e.isFadeMode=l.fadeMode,e.isAutoMode=l.autoMode,Ze.checked=l.yamiMode,e.isYamiMode=l.yamiMode,nt(l.yamiStrength),ot(),Je.checked=l.symmetryMode,e.isSymmetryMode=l.symmetryMode,he.checked=l.symmetryHud,e.isSymmetryHudVisible=l.symmetryHud,de.value=l.symmetryType,e.symmetryType=l.symmetryType,me.value=String(l.symmetryCount),e.symmetryCount=[2,4,6,8,16,32].includes(l.symmetryCount)?l.symmetryCount:4,ze(l.symmetryOriginX),Le(l.symmetryOriginY),st(),typeof l.lifeSnapToGrid=="boolean"){const d=e.penCustomParams.life_pen;e.penCustomParams.life_pen={...typeof d=="object"&&d?d:{},snap_to_grid:l.lifeSnapToGrid},e.selectedPenName==="life_pen"&&Yt("life_pen")}ae(),ye(),Oe(),fe(),_(),Fe()}},ht=Array.from(c.querySelectorAll(".dock_btn")),dt=c.querySelector('.dock_btn[data-panel="ml"]'),mt=c.querySelector('.dock_btn[data-panel="yh"]'),ne=c.querySelector('.dock_btn[data-panel="sy"]'),ut=["pl","pc","ml","yh","sy","etc"],pt=ut.reduce((s,l)=>(s[l]=u(l),s),{});let Re=null,Ht=!0;const Ae=()=>{const s=Ht?Math.ceil(c.getBoundingClientRect().height)+8:0;document.documentElement.style.setProperty("--dock-offset",`${s}px`)},X=()=>{ut.forEach(s=>{pt[s].style.display="none"}),ht.forEach(s=>{s.classList.remove("is-active")}),Re=null,a.style.display="none"},As=s=>{Re=s,a.style.display="",ut.forEach(l=>{pt[l].style.display=l===s?"":"none"}),ht.forEach(l=>{l.classList.toggle("is-active",l.dataset.panel===s)})};ht.forEach(s=>{s.addEventListener("click",()=>{const l=s.dataset.panel;if(!(!l||!pt[l])){if(Re===l){X();return}As(l)}})}),Array.from(a.querySelectorAll(".panel_close")).forEach(s=>{s.addEventListener("click",()=>{X()})}),document.addEventListener("pointerdown",s=>{if(!Re)return;const l=s.target;l&&(a.contains(l)||c.contains(l)||X())});const yt=s=>{Ht=s,c.style.display=s?"":"none",n.style.display=s?"none":"block",Ae(),s||X()};typeof ResizeObserver<"u"&&new ResizeObserver(()=>{Ae()}).observe(c),window.addEventListener("resize",Ae),Ae(),i.addEventListener("click",()=>{yt(!1)}),n.addEventListener("click",()=>{yt(!0)}),t.addEventListener("click",()=>{Fs()}),r.addEventListener("click",()=>{Fe()}),o.addEventListener("pointerdown",s=>{s.target===o&&Fe()}),At.forEach(s=>{s.addEventListener("click",()=>{const l=s.dataset.simplePreset;!l||!Ns(l)||Rs(l)})}),window.addEventListener("keydown",s=>{s.key==="Escape"&&o.classList.contains("is-open")&&Fe()});const Ie=Vn("pen",s=>{var y,f;e.selectedPenName=s,e.penTool=e.penTools[s]??e.penTools[w.pen]??Object.values(e.penTools)[0]??null,Yt(s);const l=document.querySelector(`input[name=pen][value="${s}"]`),d=(f=(y=l==null?void 0:l.closest("label"))==null?void 0:y.querySelector(".pen_name"))==null?void 0:f.textContent;p.textContent=d??s,X(),_()});h.addEventListener("input",s=>{const l=Number(s.currentTarget.value);lt(l)}),C.addEventListener("input",s=>{const l=s.currentTarget.value;ct(l)}),K.addEventListener("change",s=>{e.isRainbowMode=s.currentTarget.checked,it(),ye(),_()}),xe.addEventListener("input",s=>{at(Number(s.currentTarget.value))}),ve.addEventListener("input",s=>{rt(Number(s.currentTarget.value))}),N.addEventListener("click",()=>{e.isFadeMode=!e.isFadeMode,ye(),_()}),F.addEventListener("click",()=>{e.isAutoMode=!e.isAutoMode,ye(),_()}),Ze.addEventListener("change",s=>{e.isYamiMode=s.currentTarget.checked,ot(),Oe(),ae(),_()}),Pe.addEventListener("input",s=>{nt(Number(s.currentTarget.value))}),Je.addEventListener("change",s=>{e.isSymmetryMode=s.currentTarget.checked,st(),fe(),_()}),he.addEventListener("change",s=>{e.isSymmetryHudVisible=s.currentTarget.checked,_()}),de.addEventListener("change",s=>{e.symmetryType=s.currentTarget.value==="mirror"?"mirror":"rotate",fe(),_()}),me.addEventListener("change",s=>{const l=Number(s.currentTarget.value);e.symmetryCount=[2,4,6,8,16,32].includes(l)?l:4,fe(),_()}),Ce.addEventListener("input",s=>{ze(Number(s.currentTarget.value))}),_e.addEventListener("input",s=>{Le(Number(s.currentTarget.value))}),Lt.addEventListener("click",()=>{ze(50)}),Ot.addEventListener("click",()=>{Le(50)});const Xt=()=>{_t(e.c),e.effects=[],Ne(),X()};u("clear_button").addEventListener("click",Xt),we.addEventListener("click",Xt),u("reverse_button").addEventListener("click",()=>{Ks(),Ne()}),u("save_button").addEventListener("click",()=>{Fn({scale:1})});const Is=(s,l)=>new Promise(d=>{let y=0,f=0;const M=()=>{ae();let L=l;for(;y<s.length&&L>0;){const k=s[y];if(!k||f>=k.length){y+=1,f=0;continue}const T=k[f];tt(T.x,T.y),f+=1,L-=1}if(y>=s.length){d();return}window.requestAnimationFrame(M)};window.requestAnimationFrame(M)}),Ys=async()=>{const s=kn(ks.value);if(s.length===0){window.alert("SVG path を入力してください。");return}const l=Number(Nt.value),d=Number.isFinite(l)?Math.max(.5,Math.min(10,l)):4;Nt.value=String(d);const y=Number.parseInt(Ft.value,10),f=[1,2,4,8].includes(y)?y:1;Ft.value=String(f);try{const M=[];if(s.forEach(k=>{try{const T=ds(k,d);T.length>0&&M.push(T)}catch{}}),M.length===0){window.alert("有効な path を読み取れませんでした。");return}let L=M;if(Es.checked){const k=M.flat(),T=ms(k,e.width,e.height,e.margin);let P=0;L=M.map(O=>{const Y=T.slice(P,P+O.length);return P+=O.length,Y})}X(),await Is(L,f),e.didDrawInStroke=L.some(k=>k.length>0),e.didDrawInStroke&&(Ne(),e.didDrawInStroke=!1)}catch(M){const L=M instanceof Error?M.message:"SVG path の解析に失敗しました。";window.alert(L)}},Ds=async()=>{if(J.disabled)return;J.disabled=!0;const s=J.textContent;J.textContent="なぞりちゅう...";try{await Ys()}finally{J.disabled=!1,J.textContent=s}};J.addEventListener("click",s=>{s.preventDefault(),Ds()});let ge=!1,Ye=null,De=10;const Vt={standard:{seconds:10,fps:60,resolution:"source",quality:"auto"},short_standard:{seconds:15,fps:30,resolution:"1080x1920",quality:"10000000"},short_light:{seconds:15,fps:30,resolution:"720x1280",quality:"5000000"}},$={preset:w.recordPreset,seconds:w.recordSeconds,fps:w.recordFps,resolution:w.recordResolution,quality:w.recordQuality},oe=(s,l,d,y)=>Number.isFinite(s)?Math.max(l,Math.min(d,Math.round(s))):y,He=(s,l)=>Array.from(s.options).some(d=>d.value===l),Bt=s=>s==="standard"||s==="short_standard"||s==="short_light"||s==="custom"?s:"standard",qt=()=>{const s=oe(Number(se.value),1,120,$.seconds),l=oe(Number(ke.value),1,60,$.fps),d=He(G,G.value)?G.value:$.resolution,y=He(Q,Q.value)?Q.value:$.quality;return{seconds:s,fps:l,resolution:d,quality:y}},ft=s=>{const l={seconds:oe(s.seconds,1,120,$.seconds),fps:oe(s.fps,1,60,$.fps),resolution:He(G,s.resolution)?s.resolution:$.resolution,quality:He(Q,s.quality)?s.quality:$.quality};se.value=String(l.seconds),ke.value=String(l.fps),G.value=l.resolution,Q.value=l.quality,Xe()},Hs=s=>{const d=Object.entries(Vt).find(([,y])=>y.seconds===s.seconds&&y.fps===s.fps&&y.resolution===s.resolution&&y.quality===s.quality);return d?d[0]:null},Gt=s=>{if(s==="source")return null;const[l,d]=s.split("x"),y=Number.parseInt(l??"",10),f=Number.parseInt(d??"",10);return!Number.isFinite(y)||!Number.isFinite(f)||y<=0||f<=0?null:{width:y,height:f}},$t=(s,l,d)=>{if(!Number.isFinite(d)||d<=0||s<=0||l<=0)return{x:0,y:0,width:s,height:l};const y=s/l;if(Math.abs(y-d)<1e-4)return{x:0,y:0,width:s,height:l};if(y>d){const L=Math.max(1,Math.round(l*d));return{x:Math.round((s-L)/2),y:0,width:L,height:l}}const f=Math.max(1,Math.round(s/d));return{x:0,y:Math.round((l-f)/2),width:s,height:f}},Xe=()=>{if(!ge){Z.classList.remove("is-visible");return}const s=Gt(G.value);if(!s){Z.classList.remove("is-visible");return}const l=Ge(),d=$t(l.width,l.height,s.width/s.height),y=l.clientWidth/l.width,f=l.clientHeight/l.height;Z.style.left=`${d.x*y}px`,Z.style.top=`${d.y*f}px`,Z.style.width=`${d.width*y}px`,Z.style.height=`${d.height*f}px`,zs.textContent=`${s.width}x${s.height} クロップ`,Z.classList.add("is-visible")},Xs=()=>{const s=qt(),l=Gt(s.resolution),d=s.quality==="auto"?void 0:oe(Number(s.quality),1e5,5e7,5e6);return ft(s),{seconds:s.seconds,fps:s.fps,quality:d,resolution:l}},Ve=()=>{if(ge)return;const s=oe(Number(se.value),1,120,De);De=s,se.value=String(s),pe.textContent=`${s}秒録画`},ie=()=>{const s=Hs(qt());ue.value=s??"custom"},Ut=s=>{s!=="custom"?(ft(Vt[s]),ue.value=s):ie(),Ve()},Vs=s=>{const l=Bt(s.recordPreset),d={seconds:s.recordSeconds,fps:s.recordFps,resolution:s.recordResolution,quality:s.recordQuality};l==="custom"?(ft(d),ie()):Ut(l),Ve()},Wt=s=>{Rt.textContent=`● 録画中 ${s}s`},Bs=()=>{Ye!==null&&(window.clearInterval(Ye),Ye=null)},gt=s=>{ge=s,pe.classList.toggle("is-disabled",s),pe.setAttribute("aria-disabled",String(s)),pe.textContent=s?"録画中...":`${De}秒録画`,Rt.classList.toggle("is-visible",s),Xe(),s||Bs()};se.addEventListener("input",()=>{Ve(),ie(),_()}),ke.addEventListener("input",()=>{ie(),_()}),G.addEventListener("change",()=>{ie(),Xe(),_()}),Q.addEventListener("change",()=>{ie(),_()}),ue.addEventListener("change",()=>{Ut(Bt(ue.value)),_()}),pe.addEventListener("click",s=>{if(s.preventDefault(),ge)return;if(typeof MediaRecorder>"u"){window.alert("このブラウザは録画に対応していません。");return}const l=Ge();if(typeof l.captureStream!="function"){window.alert("このブラウザは録画に対応していません。");return}const d=Xs();De=d.seconds;let y=l,f=null;if(d.resolution){const z=document.createElement("canvas");z.width=d.resolution.width,z.height=d.resolution.height;const V=z.getContext("2d");if(!V){window.alert("録画用キャンバスの作成に失敗しました。");return}const A=$t(l.width,l.height,d.resolution.width/d.resolution.height),qe=()=>{V.drawImage(l,A.x,A.y,A.width,A.height,0,0,z.width,z.height)};qe(),f=window.setInterval(qe,Math.max(16,Math.floor(1e3/d.fps))),y=z}const M=y.captureStream(d.fps),k=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"].find(z=>MediaRecorder.isTypeSupported(z)),T={};k&&(T.mimeType=k),d.quality&&(T.videoBitsPerSecond=d.quality);const P=new MediaRecorder(M,T),O=[];gt(!0),Wt(d.seconds);const Y=Date.now();Ye=window.setInterval(()=>{const z=Math.floor((Date.now()-Y)/1e3),V=Math.max(0,d.seconds-z);Wt(V)},200),X(),P.addEventListener("dataavailable",z=>{z.data.size>0&&O.push(z.data)}),P.addEventListener("stop",()=>{M.getTracks().forEach($s=>{$s.stop()}),f!==null&&(window.clearInterval(f),f=null);const z=new Blob(O,{type:P.mimeType||"video/webm"}),V=URL.createObjectURL(z),A=document.createElement("a"),qe=new Date().toISOString().replace(/[:.]/g,"-");A.href=V,A.download=`hikari-no-crayon-${qe}.webm`,document.body.appendChild(A),A.click(),A.remove(),URL.revokeObjectURL(V),gt(!1)}),P.addEventListener("error",()=>{M.getTracks().forEach(z=>{z.stop()}),f!==null&&(window.clearInterval(f),f=null),gt(!1),window.alert("録画に失敗しました。")}),P.start(250),window.setTimeout(()=>{P.state!=="inactive"&&P.stop()},d.seconds*1e3)}),Ve();const Mt=()=>{Tn()&&Te()},Be=()=>{zn()&&Te()};R.addEventListener("click",Mt),le.addEventListener("click",Mt),H.addEventListener("click",Be),ce.addEventListener("click",Be),window.addEventListener("keydown",s=>{if(!(s.ctrlKey||s.metaKey))return;const d=s.key.toLowerCase();if(d==="z"&&s.shiftKey){s.preventDefault(),Be();return}if(d==="z"){s.preventDefault(),Mt();return}d==="y"&&(s.preventDefault(),Be())});const ee=Ge();ee.style.touchAction="none",window.addEventListener("resize",Xe);const jt=()=>{Os(),window.requestAnimationFrame(jt)};window.requestAnimationFrame(jt),ee.addEventListener("pointermove",s=>{ss(s),ae(),e.isDown&&e.penTool&&(tt(s.pageX,s.pageY),e.didDrawInStroke=!0)}),ee.addEventListener("pointerdown",s=>{e.isDown=!0,e.didDrawInStroke=!1,ss(s),tt(s.pageX,s.pageY),e.didDrawInStroke=!0});const bt=()=>{e.isDown=!1,e.didDrawInStroke&&(Ne(),e.didDrawInStroke=!1)};ee.addEventListener("pointerup",bt),ee.addEventListener("pointercancel",bt),ee.addEventListener("pointerleave",bt),ee.addEventListener("mouseout",()=>{e.mouse.x="none",e.mouse.y="none"});const Kt=s=>{et=!1;try{e.penCustomParams=os(s.penCustomParams),yt(!0),Ie.selectByValue(s.pen)||Ie.selectByValue(w.pen),X(),lt(s.size),ct(s.colorHex),K.checked=s.rainbowMode,e.isRainbowMode=s.rainbowMode,at(s.rainbowSaturation),rt(s.rainbowBrightness),it(),e.isFadeMode=s.fadeMode,e.isAutoMode=s.autoMode,Ze.checked=s.yamiMode,e.isYamiMode=s.yamiMode,nt(s.yamiStrength),ot(),ae(),Je.checked=s.symmetryMode,e.isSymmetryMode=s.symmetryMode,he.checked=s.symmetryHud,e.isSymmetryHudVisible=s.symmetryHud,de.value=s.symmetryType,e.symmetryType=s.symmetryType,me.value=String(s.symmetryCount),e.symmetryCount=[2,4,6,8,16,32].includes(s.symmetryCount)?s.symmetryCount:4,ze(s.symmetryOriginX),Le(s.symmetryOriginY),st(),ye(),Oe(),fe(),Te(),Vs(s)}finally{et=!0}_()};Ts.addEventListener("click",()=>{ge||(es(w),Kt(w))});const qs=Ln(),Gs={...w,...qs};Kt(Gs)}function $n(){is().clearRect(0,0,e.width,e.height)}function Un(){const n=is(),t=e.width*e.symmetryOriginX,o=e.height*e.symmetryOriginY,r=Math.sqrt(t*t+o*o),i=Math.max(1,e.symmetryCount);n.save(),n.strokeStyle="rgba(118, 246, 208, 0.45)",n.lineWidth=1,n.setLineDash([8,8]);for(let a=0;a<i;a+=1){const c=Math.PI*2*a/i,h=Math.cos(c)*r,m=Math.sin(c)*r;if(n.beginPath(),n.moveTo(t-h,o-m),n.lineTo(t+h,o+m),n.stroke(),e.symmetryType==="mirror"){const p=c+Math.PI/2,b=Math.cos(p)*r,g=Math.sin(p)*r;n.beginPath(),n.moveTo(t-b,o-g),n.lineTo(t+b,o+g),n.stroke()}}n.setLineDash([]),n.fillStyle="rgba(86, 177, 255, 0.85)",n.beginPath(),n.arc(t,o,3,0,Math.PI*2),n.fill(),n.restore()}function Wn(){$n(),!(!e.isSymmetryMode||!e.isSymmetryHudVisible)&&Un()}function jn(){if(e.width=window.innerWidth,e.height=window.innerHeight,e.canvas=document.getElementById("canvas"),e.hudCanvas=document.getElementById("hud"),!e.canvas||!e.hudCanvas)throw new Error("Canvas elements were not found");if(e.canvas.width=e.width,e.canvas.height=e.height,e.hudCanvas.width=e.width,e.hudCanvas.height=e.height,e.c=e.canvas.getContext("2d"),e.hudC=e.hudCanvas.getContext("2d"),!e.c||!e.hudC)throw new Error("2D context initialization failed");_t(e.c),ae()}function bs(){if(e.count+=1,e.isFadeMode&&(e.c.globalCompositeOperation="source-over",e.c.fillStyle=I({r:0,g:0,b:0},.05),e.c.fillRect(0,0,e.width,e.height)),e.c.globalCompositeOperation=We(),e.isAutoMode&&e.penTool){const n=Math.floor(Math.random()*e.width),t=Math.floor(Math.random()*e.height);if(!e.isSymmetryMode)e.penTool.draw(n,t);else{const o=e.width*e.symmetryOriginX,r=e.height*e.symmetryOriginY,i=n-o,a=t-r,c=Math.max(1,e.symmetryCount);for(let h=0;h<c;h+=1){const m=Math.PI*2*h/c,p=Math.cos(m),b=Math.sin(m),g=i*p-a*b,S=i*b+a*p;if(e.penTool.draw(o+g,r+S),e.symmetryType==="mirror"){const v=i*p+a*b,x=i*b-a*p;e.penTool.draw(o+v,r+x)}}}}e.isRainbowMode&&(e.penColor=Ct(e.count%60*6,e.rainbowSaturation,e.rainbowBrightness)),e.effects.forEach(n=>{n.move(),n.render()}),e.effects=e.effects.filter(n=>!n.delFlg),Wn(),window.requestAnimationFrame(bs)}function Kn(){window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight,e.canvas.width=e.width,e.canvas.height=e.height,e.hudCanvas.width=e.width,e.hudCanvas.height=e.height,_t(e.c),e.effects=[],ps(),zt()})}function Qn(){e.penColor=xn,e.selectedPenName=Jt,e.penTools=Sn(),e.penTool=e.penTools[Jt],jn(),ps(),zt(),Gn(),Kn(),bs()}window.addEventListener("load",Qn);

</script>
    <style>
:root{--bg-0: #04070f;--bg-1: #0b1224;--bg-2: #10182e;--panel: rgba(11, 18, 36, .78);--panel-strong: rgba(15, 24, 48, .92);--text: #f2f7ff;--muted: #a9b8d8;--accent: #56b1ff;--accent-2: #76f6d0;--line: rgba(162, 193, 255, .28);--glass: rgba(255, 255, 255, .08);--glass-hover: rgba(255, 255, 255, .14);--dock-offset: 66px;--radius: 0px;--shadow: 0 18px 48px rgba(0, 0, 0, .5);--ui-max: 320px}*{box-sizing:border-box}html,body{width:100%;height:100%}body{margin:0;font-family:Avenir Next,Avenir,Hiragino Kaku Gothic ProN,Yu Gothic,Noto Sans JP,sans-serif;color:var(--text);background:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d);background-image:linear-gradient(125deg,rgba(86,177,255,.16),transparent 34%),linear-gradient(300deg,rgba(118,246,208,.1),transparent 42%),linear-gradient(160deg,#050a14,#0c1630 46%,#121f3d),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QwUERQxGmuWsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABaSURBVFjD7dWxEYAgEATA06cECrD/GmW0AkcjIdiLL9jg4bbejysLpyXJGOdrsapN6e1ZPICAgIB/fNRV7VN5Rs+SeCSAgICWxJK4QUBAQEtiSdwgICAg4GNuoqgx9U8vXKMAAAAASUVORK5CYII=);background-blend-mode:screen,screen,normal,overlay}body,body *{-webkit-user-select:none;user-select:none;-webkit-touch-callout:none}input,textarea,select{-webkit-user-select:text;user-select:text;-webkit-touch-callout:default}#wrapper,#contentWrapper,#canvasField{width:100%;height:100%}#canvasField{position:relative}#canvas{width:100%;height:100%;display:block;touch-action:none}#hud{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;pointer-events:none}#record_frame_hud{position:absolute;z-index:35;display:none;border:2px solid rgba(118,246,208,.58);box-shadow:0 0 0 9999px #0408107a,inset 0 0 0 1px #ffffff47,0 0 18px #76f6d038;pointer-events:none}#record_frame_hud.is-visible{display:block}#record_frame_hud_label{position:absolute;top:-26px;left:0;padding:3px 8px;border:1px solid rgba(118,246,208,.75);background:linear-gradient(150deg,#070f1df2,#0b182cf2);color:#d8fff3;font-size:11px;font-weight:700;letter-spacing:.03em;white-space:nowrap}#record_status{position:fixed;top:12px;left:12px;z-index:40;display:none;min-height:32px;padding:6px 10px;border:1px solid rgba(255,120,120,.8);background:linear-gradient(140deg,#ff4444d1,#6c0000d1);color:#fff;font-size:12px;font-weight:700;letter-spacing:.03em;box-shadow:0 0 16px #ff464673}#record_status.is-visible{display:flex;align-items:center}#dock_show_button{position:fixed;right:12px;bottom:calc(12px + env(safe-area-inset-bottom));z-index:30;display:none;border:1px solid var(--line);border-radius:0;min-height:32px;padding:4px 9px;color:var(--text);background:linear-gradient(135deg,#101c34e6,#080e1ef2);cursor:pointer;font-size:10px;letter-spacing:.05em;text-transform:lowercase;box-shadow:0 6px 16px #0000004d}#simple_settings_button{flex:0 1 116px;min-width:116px;aspect-ratio:auto;border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;background:linear-gradient(140deg,#ff5f6d2e,#ffc37124,#5fdaff24,#7f5bff2e),#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 14px #7f5bff40,0 0 14px #ff8c5233;grid-template-columns:1fr;gap:0;align-content:center;justify-items:center;padding-inline:12px}#simple_settings_button:hover{background:linear-gradient(140deg,#ff5f6d42,#ffc37133,#5fdaff33,#7f5bff42),#0b132452;box-shadow:0 0 18px #7f5bff59,0 0 18px #ff8c5247}.simple_settings_icon{display:none;flex:0 0 auto;place-self:center;position:relative;overflow:hidden;width:12px;height:auto;aspect-ratio:1 / 1;border-radius:999px;border:1px solid rgba(255,255,255,.72);background:#0b1220;box-shadow:0 0 0 2px #080c18e6,0 0 10px #7f5bff80}.simple_settings_icon:before{content:"";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;background:linear-gradient(135deg,#ff5f6d,#ffc371 33%,#5fdaff 66%,#7f5bff);filter:blur(1.2px) saturate(1.15);opacity:.88}.simple_settings_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #00000073}.simple_settings_label{font-size:16.5px;font-weight:800;line-height:1;letter-spacing:.01em;white-space:nowrap}.simple_settings_modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:none;place-items:center;padding:20px;background:#060c1857;-webkit-backdrop-filter:blur(10px) saturate(1.15);backdrop-filter:blur(10px) saturate(1.15)}.simple_settings_modal.is-open{display:grid}.simple_settings_dialog{width:100%;max-width:760px;max-height:calc(100vh - 40px);overflow-y:auto;border:1px solid rgba(162,193,255,.34);background:linear-gradient(165deg,#101c38f0,#080f20f5);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px}.simple_settings_dialog h2{margin:0;font-size:14px;letter-spacing:.03em}.simple_settings_help{margin:0;color:var(--muted);font-size:12px}.simple_settings_actions{display:flex;flex-wrap:wrap;justify-content:center;gap:8px}.simple_preset_button{position:relative;flex:0 0 calc((100% - 24px)/4);aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.3);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:12px;font-weight:700;cursor:pointer;display:grid;grid-template-rows:1fr;justify-items:stretch;align-content:end;gap:0;padding:0;text-align:center;overflow:hidden}.simple_preset_icon{display:none}.simple_preset_icon:before{content:"";position:absolute;top:2px;right:2px;bottom:2px;left:2px;background:linear-gradient(135deg,#78aaffe6,#b48cffcc);filter:blur(2.2px) saturate(1.05)}.simple_preset_button canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:0}.simple_preset_icon:has(canvas):before{display:none}.simple_preset_icon:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;box-shadow:inset 0 0 0 1px #00000073}.simple_preset_text{position:absolute;bottom:0;left:0;right:0;z-index:1;background:#0a101e57;-webkit-backdrop-filter:blur(8px) saturate(1.2);backdrop-filter:blur(8px) saturate(1.2);border-top:1px solid rgba(196,218,255,.28);box-shadow:inset 0 1px #ffffff1a;padding:5px 6px;display:grid;gap:2px;text-align:center}.simple_preset_name{font-size:12px;line-height:1.2;text-shadow:0 1px 2px rgba(0,0,0,.85),0 0 8px rgba(0,0,0,.45)}.simple_preset_desc{font-size:10px;line-height:1.2;color:var(--muted);text-shadow:0 1px 2px rgba(0,0,0,.85),0 0 6px rgba(0,0,0,.4)}.simple_preset_button:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.simple_preset_button[data-simple-preset=nijiiro] .simple_preset_icon{background:linear-gradient(135deg,#ff6a5f,#ffc46b 35%,#5fd9ff 65%,#7f5bff)}.simple_preset_button[data-simple-preset=mangekyo] .simple_preset_icon{background:linear-gradient(135deg,#5fdaff,#7f5bff)}.simple_preset_button[data-simple-preset=lifegame] .simple_preset_icon{background:linear-gradient(135deg,#79ff9e,#54b6ff)}.simple_preset_button[data-simple-preset=futsu] .simple_preset_icon{background:linear-gradient(135deg,#7aa6ff,#c4d4ff)}.simple_preset_button[data-simple-preset=bukimi] .simple_preset_icon{background:linear-gradient(135deg,#ff2f45,#ff8a3d)}.simple_preset_button[data-simple-preset=hane] .simple_preset_icon{background:linear-gradient(135deg,#0f172f,#2e3d62)}.simple_preset_button[data-simple-preset=yamispray] .simple_preset_icon{background:linear-gradient(135deg,#1b1f2b,#4f78ff)}.simple_preset_button[data-simple-preset=yamikeshi] .simple_preset_icon{background:linear-gradient(135deg,#151820,#3f4f7a)}#simple_settings_close_button{justify-self:center}#menu{position:fixed;left:50%;transform:translate(-50%);top:auto;bottom:var(--dock-offset);width:min(420px,calc(100vw - 28px));z-index:15;overflow-x:visible;overflow-y:auto;padding:12px 12px calc(16px + env(safe-area-inset-bottom));border:0;border-radius:var(--radius);background:linear-gradient(165deg,#101c38b8,#080f20bd 58%,#050a16c7);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);box-shadow:inset 0 1px #d2e7ff14,0 -16px 38px #0000007a;max-height:min(78vh,calc(100vh - var(--dock-offset) - 12px))}#menu h1{display:none}#bottom_dock{position:fixed;left:50%;transform:translate(-50%);bottom:0;z-index:25;display:flex;flex-wrap:wrap;justify-content:center;align-items:stretch;gap:6px;width:calc(100vw - 24px);padding:8px 8px calc(9px + env(safe-area-inset-bottom));border:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;box-shadow:none}.dock_inline{display:grid;align-content:center;gap:2px;min-height:44px;padding:4px 8px;border:1px solid rgba(162,193,255,.18);background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);aspect-ratio:1 / 1}.dock_size_inline{flex:1 1 auto;min-width:100px;max-width:200px;aspect-ratio:auto}.dock_size_inline input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:6px;border-radius:3px;border:none;background:linear-gradient(90deg,#56b1ff40,#7f5bff40);outline:none}.dock_size_inline input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff) border-box;box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;border:2px solid transparent;background:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff);box-shadow:0 0 8px #7f5bff66,0 0 8px #56b1ff4d;cursor:pointer}.dock_size_inline input[type=range]::-moz-range-track{height:6px;border-radius:3px;background:linear-gradient(90deg,#56b1ff40,#7f5bff40)}.dock_color_inline{flex:0 1 74px;justify-items:center}.dock_color_inline input[type=color]{width:100%;height:20px;border:0;padding:0;background:transparent}.dock_btn{display:grid;place-items:center;gap:2px;flex:0 1 74px;aspect-ratio:1 / 1;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:var(--text);text-shadow:0 1px 4px rgba(0,0,0,.7);min-height:44px;font-size:11px;letter-spacing:.02em;cursor:pointer}.dock_toggle_btn,.dock_mode_toggle{flex:0 1 74px}.dock_mode_toggle .dock_main{font-size:15px;letter-spacing:0}.dock_btn.is-active{border-color:#a2c1ffa6;background:#16305561}.dock_btn.is-on-state{border:2px solid transparent;border-image:linear-gradient(135deg,#ff5f6d,#ffc371,#5fdaff,#7f5bff,#ff5f6d) 1;box-shadow:0 0 12px #7f5bff4d,0 0 12px #56b1ff33}.dock_btn:hover{border-color:#a2c1ff73;background:#13203a61}.dock_action_tile{flex:0 1 74px;aspect-ratio:1 / 1;min-height:44px;border:1px solid rgba(162,193,255,.18);border-radius:0;background:#0b132447;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-shadow:0 1px 4px rgba(0,0,0,.7);display:grid;grid-template-rows:1fr 1fr;gap:2px;padding:2px}.dock_action_top{display:grid;grid-template-columns:1fr 1fr;gap:2px}.dock_action_btn{border:1px solid rgba(162,193,255,.18);border-radius:0;background:#111a2f47;color:var(--text);font-size:9px;line-height:1;padding:0;min-width:0;cursor:pointer}.dock_action_btn:hover{border-color:#a2c1ff73;background:#1a2b4d61}.dock_action_clear{font-size:10px;border-color:#ff8c8c61}.dock_action_clear:hover{border-color:#ff8c8cb8;background:linear-gradient(140deg,#ff626247,#ffce541f)}.dock_action_btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}.dock_main{font-size:15px;font-weight:800}.dock_sub{font-size:9px;color:var(--muted)}.size_list,.color_list,.pen_list,#etc ul{margin:0;padding:0}#pl,#pc,#ml,#yh,#sy,#etc{position:relative;padding-top:30px}.panel_close_row{position:absolute;top:0;right:0;width:auto;display:flex;justify-content:flex-end;flex:none;margin:0;list-style:none}.panel_close{width:28px;height:28px;border:1px solid rgba(162,193,255,.35);background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);font-size:16px;line-height:1;cursor:pointer}.size_list li,.color_list li{display:inline-block;list-style:none;margin:0 6px 8px 0}.control_row{display:block!important;width:100%;max-width:var(--ui-max);margin:0 auto 10px!important}.pen_list li,#etc li{list-style:none;margin:0 0 8px}#etc li{width:100%;max-width:var(--ui-max)}.pen_list{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}.pen_list li{flex:0 0 106px;width:106px;margin:0}.pen_custom_block{flex:0 0 100%;width:100%;margin:0 0 10px}.pen_custom_panel{width:100%;border:1px solid rgba(162,193,255,.28);background:linear-gradient(150deg,#ffffff14,#ffffff05);padding:10px;display:grid;gap:8px}.pen_custom_title{margin:0;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.pen_custom_controls{display:grid;gap:8px}.pen_custom_empty{margin:0;font-size:11px;color:var(--muted)}.pen_custom_checkbox{grid-template-columns:1fr auto;align-items:center}.pen_custom_checkbox input[type=checkbox]{width:16px;height:16px;margin:0;accent-color:#66bcff}.pen_custom_value{color:var(--text);font-size:12px;font-weight:700}.size_list label,.color_list label,.pen_list label{display:inline-flex;align-items:center;gap:6px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;font-size:12px;line-height:1;color:var(--text);background:linear-gradient(135deg,#ffffff14,#ffffff05);cursor:pointer}.pen_list label{width:100%;aspect-ratio:1 / 1;justify-content:center;align-items:center;flex-direction:column;gap:7px;text-align:center;border-radius:0;padding:8px;font-size:12px;line-height:1.25;word-break:break-word}.pen_icon{width:30px;height:30px;display:inline-flex;align-items:center;justify-content:center;border:1px solid rgba(162,193,255,.6);background:linear-gradient(140deg,#56b1ff47,#76f6d01a);font-size:16px;line-height:1}.pen_name{font-size:10px;line-height:1.2}.size_list label:hover,.color_list label:hover,.pen_list label:hover{border-color:#a2c1ff8f;background:#a2c1ff21}.size_list label.selected,.color_list label.selected,.pen_list label.selected{border-color:#a2c1ffd1;background:linear-gradient(140deg,#56b1ff4d,#76f6d01f);box-shadow:inset 0 0 0 1px #a2c1ff5c,0 8px 16px #00000047}.size_list label input[type=radio],.color_list label input[type=radio],.pen_list label input[type=radio]{display:none}#ml,#pc,#yh,#sy{display:grid;gap:8px;justify-items:center}.mode_button{display:inline-flex;align-items:center;gap:6px;width:100%;max-width:var(--ui-max);min-height:42px;padding:8px 9px;border:1px solid rgba(162,193,255,.28);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);cursor:pointer;font-size:12px;line-height:1;color:var(--text)}.mode_button:has(input:checked){border-color:#a2c1fff2;background:linear-gradient(140deg,#56b1ff61,#76f6d029);box-shadow:inset 0 0 0 1px #a2c1ff80,0 0 16px #6fe5ff4d;font-weight:700}#yh .mode_button:has(#yami_mode:checked){border-color:#ff7a7afa;background:linear-gradient(140deg,#ff60606b,#ffc4522e);box-shadow:inset 0 0 0 1px #ff929285,0 0 18px #ff62626b}#sy .mode_button:has(#symmetry_mode:checked){border-color:#6fe5fffa;background:linear-gradient(140deg,#57baff66,#6fe5ff33);box-shadow:inset 0 0 0 1px #6fe5ff80,0 0 16px #6fe5ff59}.mode_button input{display:none}.mode_button.is-disabled,.export_label.is-disabled,.range_label.is-disabled{opacity:.45}#etc ul{display:grid;gap:12px;justify-items:center}.etc_group{width:100%;max-width:var(--ui-max);margin:0;padding:10px;border:1px solid rgba(162,193,255,.26);background:linear-gradient(150deg,#ffffff14,#ffffff05)}.etc_group_title{margin:0 0 8px;font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text)}.etc_group_body{display:grid;gap:8px}.button_row{display:grid;grid-template-columns:1fr;gap:8px;width:100%;max-width:var(--ui-max)}.export_row{display:grid;gap:8px;width:100%;max-width:var(--ui-max)}.range_label,.picker_label,.export_label{width:100%;max-width:var(--ui-max);display:grid;gap:7px;border-radius:0;border:1px solid rgba(162,193,255,.28);background:linear-gradient(140deg,#ffffff14,#ffffff05);padding:9px 11px;font-size:11px;letter-spacing:.04em;color:var(--muted)}#size_range{width:100%;accent-color:#66bcff}#size_value{color:var(--text);font-size:14px;font-weight:600}#color_picker{display:block;width:100%;height:40px;padding:0;border:0;border-radius:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}#yami_strength,#symmetry_origin_x,#symmetry_origin_y{width:100%;accent-color:#66bcff}#symmetry_type:disabled,#symmetry_count:disabled{opacity:.65;cursor:not-allowed}.mini_reset_button{border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff08);color:var(--text);font-size:11px;padding:6px 8px;cursor:pointer}.mini_reset_button:disabled{opacity:.45;cursor:not-allowed}#record_preset,#record_seconds,#record_fps,#record_resolution,#record_quality,#svg_path_step,#svg_path_input{width:100%;min-height:32px;border:1px solid rgba(162,193,255,.35);border-radius:0;background:linear-gradient(140deg,#0a1223bf,#070c18e0);color:var(--text);padding:6px 8px}#svg_path_input{min-height:84px;resize:vertical;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;line-height:1.4}#record_preset option,#record_resolution option,#record_quality option{color:#0b1224;background:#f2f7ff}.btn{display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:var(--ui-max);min-height:42px;border:1px solid rgba(162,193,255,.32);border-radius:0;background:linear-gradient(140deg,#ffffff14,#ffffff05);color:var(--text);text-decoration:none;font-size:14px;font-weight:600;letter-spacing:.02em;cursor:pointer}.btn:hover{background:linear-gradient(140deg,#56b1ff3d,#76f6d014);border-color:#a2c1ff9e}.btn.btn-secondary{border-color:#a2c1ff40;background:linear-gradient(140deg,#ffffff0f,#ffffff05)}.btn.is-disabled{opacity:.45;pointer-events:none;filter:grayscale(.25)}button:focus-visible,input:focus-visible,select:focus-visible,.btn:focus-visible,.mode_button:focus-within,.range_label:focus-within,.picker_label:focus-within,.export_label:focus-within{outline:2px solid rgba(118,246,208,.85);outline-offset:2px}@media (max-width: 820px){#menu{left:50%;transform:translate(-50%);top:auto;width:calc(100vw - 16px);max-height:min(78vh,calc(100vh - var(--dock-offset) - 8px))}.simple_settings_dialog{max-width:calc(100vw - 16px)}.simple_preset_button{flex:0 0 calc((100% - 8px)/2);aspect-ratio:1 / 1}.pen_list{justify-content:center}.pen_list li{flex-basis:98px;width:98px}#bottom_dock{left:50%;transform:translate(-50%);width:calc(100vw - 16px);display:grid;grid-template-columns:repeat(4,minmax(0,1fr))}.dock_size_inline{grid-column:span 4;max-width:none;aspect-ratio:auto}.dock_inline{aspect-ratio:auto}.dock_btn{flex:none;aspect-ratio:auto}#simple_settings_button{grid-column:span 2;min-width:0;width:100%}.dock_action_tile{flex:none;aspect-ratio:auto}#dock_show_button{right:8px;bottom:calc(8px + env(safe-area-inset-bottom))}}

</style>
  </head>
  <body>
    <div id="wrapper">
      <div id="contentWrapper">
        <div id="canvasField">
          <canvas id="canvas"></canvas>
          <canvas id="hud"></canvas>
          <div id="record_frame_hud" aria-hidden="true">
            <span id="record_frame_hud_label"></span>
          </div>
          <div id="record_status" aria-live="polite">● 録画中 10s</div>
        </div>

        <button type="button" id="dock_show_button">めにゅーをひょうじ</button>
        <div id="menu">
          <h1 id="plh">ぺんのしゅるい</h1>
          <ul id="pl" class="pen_list">
            <li class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="normal_pen" checked /><span class="pen_icon">光</span><span class="pen_name">ひかりのくれよん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="blood_pen" /><span class="pen_icon">血</span><span class="pen_name">けっかんぺんしる</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="fur_pen" /><span class="pen_icon">毛</span><span class="pen_name">ふぁーえんぴつ</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="snow_pen" /><span class="pen_icon">雪</span><span class="pen_name">ゆきぱすてる</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="hoshi_pen" /><span class="pen_icon">星</span><span class="pen_name">ほしわいやー</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="hane_pen" /><span class="pen_icon">羽</span><span class="pen_name">はねぺん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="nami_pen" /><span class="pen_icon">波</span><span class="pen_name">なみふで</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="spray_pen" /><span class="pen_icon">霧</span><span class="pen_name">すぷれーかん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="bubble_pen" /><span class="pen_icon">泡</span><span class="pen_name">あわすぷれー</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="orbit_pen" /><span class="pen_icon">彗</span><span class="pen_name">おーびっとぺん</span></label>
            </li>
            <li>
              <label class="pen_option"><input type="radio" name="pen" value="degi_pen" /><span class="pen_icon">電</span><span class="pen_name">でじたるぺん</span></label>
            </li>
          </ul>

          <h1 id="mlh">もーど</h1>
          <div id="ml">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="rainbow_mode" value="true" />
              <span id="rainbow_mode_label">ONにする</span>
            </label>
            <label class="range_label">
              <span>さいど</span>
              <input type="range" id="rainbow_saturation" min="0" max="255" step="1" value="200" />
              <strong id="rainbow_saturation_value">200</strong>
            </label>
            <label class="range_label">
              <span>めいど</span>
              <input type="range" id="rainbow_brightness" min="0" max="255" step="1" value="200" />
              <strong id="rainbow_brightness_value">200</strong>
            </label>
          </div>

          <h1 id="pch">ぺんかすたむ</h1>
          <div id="pc">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <div class="pen_custom_panel">
              <h2 class="pen_custom_title">ぺんかすたむ</h2>
              <div id="pen_custom_controls" class="pen_custom_controls"></div>
            </div>
          </div>

          <h1 id="yhh">やみのくれよん</h1>
          <div id="yh">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="yami_mode" value="true" />
              <span id="yami_mode_label">ONにする</span>
            </label>
            <label class="range_label">
              <span>やみのつよさ</span>
              <input type="range" id="yami_strength" min="0" max="100" step="1" value="100" />
              <strong id="yami_strength_value">100</strong>
            </label>
          </div>

          <h1 id="syh">たいしょう</h1>
          <div id="sy">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <label class="mode_button">
              <input type="checkbox" id="symmetry_mode" value="true" />
              <span id="symmetry_mode_label">ONにする</span>
            </label>
            <label class="mode_button">
              <input type="checkbox" id="symmetry_hud" value="true" />
              <span>じくひょうじ</span>
            </label>
            <label class="export_label">
              <span>たいしょうしゅるい</span>
              <select id="symmetry_type">
                <option value="rotate" selected>かいてん</option>
                <option value="mirror">みらー</option>
              </select>
            </label>
            <label class="export_label">
              <span>たいしょうぶんかつ</span>
              <select id="symmetry_count">
                <option value="2">2</option>
                <option value="4" selected>4</option>
                <option value="6">6</option>
                <option value="8">8</option>
                <option value="16">16</option>
                <option value="32">32</option>
              </select>
            </label>
            <label class="range_label">
              <span>ちゅうしんX</span>
              <input type="range" id="symmetry_origin_x" min="0" max="100" step="1" value="50" />
              <strong id="symmetry_origin_x_value">50%</strong>
              <button type="button" class="mini_reset_button" id="symmetry_origin_x_reset">50%にもどす</button>
            </label>
            <label class="range_label">
              <span>ちゅうしんY</span>
              <input type="range" id="symmetry_origin_y" min="0" max="100" step="1" value="50" />
              <strong id="symmetry_origin_y_value">50%</strong>
              <button type="button" class="mini_reset_button" id="symmetry_origin_y_reset">50%にもどす</button>
            </label>
          </div>

          <h1 id="etch">そのた</h1>
          <div id="etc">
            <div class="panel_close_row">
              <button type="button" class="panel_close" aria-label="とじる">×</button>
            </div>
            <ul>
              <li class="etc_group">
                <h2 class="etc_group_title">かんたんそうさ</h2>
                <div class="etc_group_body">
                  <div class="button_row" hidden>
                    <a class="btn btn-secondary btn-large" id="undo_button">もどす</a>
                    <a class="btn btn-secondary btn-large" id="redo_button">やりなおし</a>
                  </div>
                  <div hidden><a class="btn btn-primary btn-large" id="clear_button">けす！</a></div>
                  <div><a class="btn btn-primary btn-large" id="reverse_button">はんてん!</a></div>
                  <div><a class="btn btn-primary btn-large" id="save_button">PNGほぞん</a></div>
                  <div><a class="btn btn-secondary btn-large" id="reset_settings_button">せっていをりせっと</a></div>
                </div>
              </li>
              <li class="etc_group">
                <h2 class="etc_group_title">SVG なぞり</h2>
                <div class="etc_group_body">
                  <div class="export_row">
                    <label class="export_label">
                      <span>SVG path d</span>
                      <textarea id="svg_path_input" rows="4" placeholder="M 10 10 L 140 10 L 140 140 Z"></textarea>
                    </label>
                    <label class="export_label">
                      <span>サンプルかんかく (px)</span>
                      <input type="number" id="svg_path_step" min="0.5" max="10" step="0.5" value="4" />
                    </label>
                    <label class="export_label">
                      <span>きゃんばすにふぃっと</span>
                      <input type="checkbox" id="svg_path_fit" checked />
                    </label>
                    <label class="export_label">
                      <span>なぞりそくど</span>
                      <select id="svg_path_speed">
                        <option value="1" selected>ゆっくり (1点/フレーム)</option>
                        <option value="2">ふつう (2点/フレーム)</option>
                        <option value="4">はやめ (4点/フレーム)</option>
                        <option value="8">とてもはやい (8点/フレーム)</option>
                      </select>
                    </label>
                  </div>
                  <div><button type="button" class="btn btn-secondary btn-large" id="svg_path_draw_button">SVGぱすをなぞる</button></div>
                </div>
              </li>
              <li class="etc_group">
                <h2 class="etc_group_title">ろくが</h2>
                <div class="etc_group_body">
                  <div class="export_row">
                    <label class="export_label">
                      <span>ろくが ぷりせっと</span>
                      <select id="record_preset">
                        <option value="standard" selected>ひょうじゅん (10s / 60fps)</option>
                        <option value="short_standard">しょーと きれい (15s / 1080x1920)</option>
                        <option value="short_light">しょーと かるめ (15s / 720x1280)</option>
                        <option value="custom">かすたむ</option>
                      </select>
                    </label>
                    <label class="export_label">
                      <span>ろくが びょうすう</span>
                      <input type="number" id="record_seconds" min="1" max="120" step="1" value="10" />
                    </label>
                    <label class="export_label">
                      <span>ろくが FPS</span>
                      <input type="number" id="record_fps" min="1" max="60" step="1" value="60" />
                    </label>
                    <label class="export_label">
                      <span>ろくが かいぞうど</span>
                      <select id="record_resolution">
                        <option value="source" selected>げんざいのきゃんばす</option>
                        <option value="1080x1920">1080x1920 (たて)</option>
                        <option value="720x1280">720x1280 (たて)</option>
                        <option value="1920x1080">1920x1080</option>
                        <option value="1280x720">1280x720</option>
                        <option value="854x480">854x480</option>
                        <option value="640x360">640x360</option>
                      </select>
                    </label>
                    <label class="export_label">
                      <span>ろくが がしつ</span>
                      <select id="record_quality">
                        <option value="auto" selected>じどう</option>
                        <option value="2500000">ひくめ (2.5Mbps)</option>
                        <option value="5000000">ふつう (5Mbps)</option>
                        <option value="10000000">たかめ (10Mbps)</option>
                      </select>
                    </label>
                  </div>
                  <div><a class="btn btn-primary btn-large" id="record_button">10秒録画</a></div>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <div id="simple_settings_modal" class="simple_settings_modal" aria-hidden="true">
          <div class="simple_settings_dialog" role="dialog" aria-modal="true" aria-labelledby="simple_settings_title">
            <h2 id="simple_settings_title">ぷりせっとをえらぶ</h2>
            <div class="simple_settings_actions">
              <button type="button" class="simple_preset_button" data-simple-preset="nijiiro">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">にじいろ</span>
                  <span class="simple_preset_desc">ひかり + れいんぼー</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="mangekyo">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">まんげきょう</span>
                  <span class="simple_preset_desc">8ぶんかつ たいしょう</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="lifegame">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">らいふげーむ</span>
                  <span class="simple_preset_desc">おーと + ふぇーど</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="futsu">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">ふつう</span>
                  <span class="simple_preset_desc">べーしっくせってい</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="bukimi">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">ぶきみ</span>
                  <span class="simple_preset_desc">あか + おーともーど</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="hane">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">はね</span>
                  <span class="simple_preset_desc">はねぺん + 100px</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="yamispray">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">やみすぷれー</span>
                  <span class="simple_preset_desc">やみ + 140px</span>
                </span>
              </button>
              <button type="button" class="simple_preset_button" data-simple-preset="yamikeshi">
                <span class="simple_preset_text">
                  <span class="simple_preset_name">やみけしごむ</span>
                  <span class="simple_preset_desc">やみ + 80px</span>
                </span>
              </button>
            </div>
            <button type="button" id="simple_settings_close_button" class="btn btn-secondary">とじる</button>
          </div>
        </div>

        <div id="bottom_dock">
          <button type="button" class="dock_btn" id="simple_settings_button">
            <span class="simple_settings_icon" aria-hidden="true"></span>
            <span class="simple_settings_label">ぷりせっと</span>
          </button>
          <label class="dock_inline dock_size_inline">
            <span class="dock_main">おおきさ</span>
            <input type="range" id="dock_size_range" min="3" max="300" step="1" value="64" />
            <span class="dock_sub" id="size_dock_value">64px</span>
          </label>
          <label class="dock_inline dock_color_inline">
            <span class="dock_main">いろ</span>
            <input type="color" id="dock_color_picker" value="#56b1ff" />
          </label>
          <button type="button" class="dock_btn" data-panel="pl">
            <span class="dock_main">ぺん</span>
            <span class="dock_sub" id="pen_dock_value">ひかりのくれよん</span>
          </button>
          <button type="button" class="dock_btn" data-panel="pc">
            <span class="dock_main">かすたむ</span>
          </button>
          <button type="button" class="dock_btn" data-panel="ml">
            <span class="dock_main">れいんぼー</span>
            <span class="dock_sub" id="rainbow_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn dock_mode_toggle" id="dock_fade_toggle_button">
            <span class="dock_main">ふぇーど</span>
            <span class="dock_sub" id="fade_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn dock_mode_toggle" id="dock_auto_toggle_button">
            <span class="dock_main">おーと</span>
            <span class="dock_sub" id="auto_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="yh">
            <span class="dock_main">やみ</span>
            <span class="dock_sub" id="yami_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="sy">
            <span class="dock_main">たいしょう</span>
            <span class="dock_sub" id="symmetry_dock_value">OFF</span>
          </button>
          <button type="button" class="dock_btn" data-panel="etc">
            <span class="dock_main">そのた</span>
            <span class="dock_sub">ほぞん/ろくが</span>
          </button>
          <div class="dock_action_tile" aria-label="くいっくそうさ">
            <div class="dock_action_top">
              <button type="button" class="dock_action_btn" id="dock_undo_button">もどる</button>
              <button type="button" class="dock_action_btn" id="dock_redo_button">すすむ</button>
            </div>
            <button type="button" class="dock_action_btn dock_action_clear" id="dock_clear_button">けす</button>
          </div>
          <button type="button" class="dock_btn dock_toggle_btn" id="dock_hide_button">めにゅーをかくす</button>
        </div>
      </div>
    </div>
  </body>

</html>
